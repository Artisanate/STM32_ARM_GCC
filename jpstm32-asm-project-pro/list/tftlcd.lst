


ARM Macro Assembler    Page 1 


    1 00000000         ;===============================================
    2 00000000         ;液晶屏初始化及相关操作
    3 00000000         ;===============================================
    4 00000000                 INCLUDE          map.s
    1 00000000         ;系统各个模块寄存器映射及定义
    2 00000000         
    3 00000000         ;=================================================
    4 00000000         ;系统时钟寄存器定义
    5 00000000         ;=================================================
    6 00000000 40021000 
                       RCC_BASE
                               EQU              0x40021000
    7 00000000 40021000 
                       RCC_CR  EQU              (RCC_BASE + 0x00)
    8 00000000 40021004 
                       RCC_CFGR
                               EQU              (RCC_BASE + 0x04)
    9 00000000 40021008 
                       RCC_CIR EQU              (RCC_BASE + 0x08)
   10 00000000 4002100C 
                       RCC_APB2RSTR
                               EQU              (RCC_BASE + 0x0C)
   11 00000000 40021010 
                       RCC_APB1RSTR
                               EQU              (RCC_BASE + 0x10)
   12 00000000 40021014 
                       RCC_AHBENR
                               EQU              (RCC_BASE + 0x14)
   13 00000000 40021018 
                       RCC_APB2ENR
                               EQU              (RCC_BASE + 0x18)
   14 00000000 4002101C 
                       RCC_APB1ENR
                               EQU              (RCC_BASE + 0x1C)
   15 00000000 40021020 
                       RCC_BDCR
                               EQU              (RCC_BASE + 0x20)
   16 00000000 40021024 
                       RCC_CSR EQU              (RCC_BASE + 0x24)
   17 00000000         
   18 00000000         ;-------------------------------------------------
   19 00000000         ;=================================================
   20 00000000         ;GPIOA端口寄存器定义
   21 00000000         ;=================================================
   22 00000000 40010800 
                       GPIOA_BASE
                               EQU              0x40010800
   23 00000000 40010800 
                       GPIOA_CRL
                               EQU              (GPIOA_BASE + 0x00)
   24 00000000 40010804 
                       GPIOA_CRH
                               EQU              (GPIOA_BASE + 0x04)
   25 00000000 40010808 
                       GPIOA_IDR
                               EQU              (GPIOA_BASE + 0x08)
   26 00000000 4001080C 
                       GPIOA_ODR
                               EQU              (GPIOA_BASE + 0x0C)



ARM Macro Assembler    Page 2 


   27 00000000 40010810 
                       GPIOA_BSRR
                               EQU              (GPIOA_BASE + 0x10)
   28 00000000 40010814 
                       GPIOA_BRR
                               EQU              (GPIOA_BASE + 0x14)
   29 00000000 40010818 
                       GPIOA_LCKR
                               EQU              (GPIOA_BASE + 0x18)
   30 00000000         
   31 00000000         ;-------------------------------------------------
   32 00000000         ;=================================================
   33 00000000         ;GPIOB端口寄存器定义
   34 00000000         ;=================================================
   35 00000000 40010C00 
                       GPIOB_BASE
                               EQU              0x40010C00
   36 00000000 40010C00 
                       GPIOB_CRL
                               EQU              (GPIOB_BASE + 0x00)
   37 00000000 40010C04 
                       GPIOB_CRH
                               EQU              (GPIOB_BASE + 0x04)
   38 00000000 40010C08 
                       GPIOB_IDR
                               EQU              (GPIOB_BASE + 0x08)
   39 00000000 40010C0C 
                       GPIOB_ODR
                               EQU              (GPIOB_BASE + 0x0C)
   40 00000000 40010C10 
                       GPIOB_BSRR
                               EQU              (GPIOB_BASE + 0x10)
   41 00000000 40010C14 
                       GPIOB_BRR
                               EQU              (GPIOB_BASE + 0x14)
   42 00000000 40010C18 
                       GPIOB_LCKR
                               EQU              (GPIOB_BASE + 0x18)
   43 00000000         
   44 00000000         ;-------------------------------------------------
   45 00000000         ;=================================================
   46 00000000         ;GPIOC端口寄存器定义
   47 00000000         ;=================================================
   48 00000000 40011000 
                       GPIOC_BASE
                               EQU              0x40011000
   49 00000000 40011000 
                       GPIOC_CRL
                               EQU              (GPIOC_BASE + 0x00)
   50 00000000 40011004 
                       GPIOC_CRH
                               EQU              (GPIOC_BASE + 0x04)
   51 00000000 40011008 
                       GPIOC_IDR
                               EQU              (GPIOC_BASE + 0x08)
   52 00000000 4001100C 
                       GPIOC_ODR
                               EQU              (GPIOC_BASE + 0x0C)
   53 00000000 40011010 



ARM Macro Assembler    Page 3 


                       GPIOC_BSRR
                               EQU              (GPIOC_BASE + 0x10)
   54 00000000 40011014 
                       GPIOC_BRR
                               EQU              (GPIOC_BASE + 0x14)
   55 00000000 40011018 
                       GPIOC_LCKR
                               EQU              (GPIOC_BASE + 0x18)
   56 00000000         
   57 00000000         ;-------------------------------------------------
   58 00000000         ;=================================================
   59 00000000         ;GPIOD端口寄存器定义
   60 00000000         ;=================================================
   61 00000000 40011400 
                       GPIOD_BASE
                               EQU              0x40011400
   62 00000000 40011400 
                       GPIOD_CRL
                               EQU              (GPIOD_BASE + 0x00)
   63 00000000 40011404 
                       GPIOD_CRH
                               EQU              (GPIOD_BASE + 0x04)
   64 00000000 40011408 
                       GPIOD_IDR
                               EQU              (GPIOD_BASE + 0x08)
   65 00000000 4001140C 
                       GPIOD_ODR
                               EQU              (GPIOD_BASE + 0x0C)
   66 00000000 40011410 
                       GPIOD_BSRR
                               EQU              (GPIOD_BASE + 0x10)
   67 00000000 40011414 
                       GPIOD_BRR
                               EQU              (GPIOD_BASE + 0x14)
   68 00000000 40011418 
                       GPIOD_LCKR
                               EQU              (GPIOD_BASE + 0x18)
   69 00000000         
   70 00000000         ;-------------------------------------------------
   71 00000000         ;=================================================
   72 00000000         ;GPIOE端口寄存器定义
   73 00000000         ;=================================================
   74 00000000 40011800 
                       GPIOE_BASE
                               EQU              0x40011800
   75 00000000 40011800 
                       GPIOE_CRL
                               EQU              (GPIOE_BASE + 0x00)
   76 00000000 40011804 
                       GPIOE_CRH
                               EQU              (GPIOE_BASE + 0x04)
   77 00000000 40011808 
                       GPIOE_IDR
                               EQU              (GPIOE_BASE + 0x08)
   78 00000000 4001180C 
                       GPIOE_ODR
                               EQU              (GPIOE_BASE + 0x0C)
   79 00000000 40011810 
                       GPIOE_BSRR



ARM Macro Assembler    Page 4 


                               EQU              (GPIOE_BASE + 0x10)
   80 00000000 40011814 
                       GPIOE_BRR
                               EQU              (GPIOE_BASE + 0x14)
   81 00000000 40011818 
                       GPIOE_LCKR
                               EQU              (GPIOE_BASE + 0x18)
   82 00000000         
   83 00000000         ;-------------------------------------------------
   84 00000000         ;=================================================
   85 00000000         ;GPIOF端口寄存器定义
   86 00000000         ;=================================================
   87 00000000 40011C00 
                       GPIOF_BASE
                               EQU              0x40011C00
   88 00000000 40011C00 
                       GPIOF_CRL
                               EQU              (GPIOF_BASE + 0x00)
   89 00000000 40011C04 
                       GPIOF_CRH
                               EQU              (GPIOF_BASE + 0x04)
   90 00000000 40011C08 
                       GPIOF_IDR
                               EQU              (GPIOF_BASE + 0x08)
   91 00000000 40011C0C 
                       GPIOF_ODR
                               EQU              (GPIOF_BASE + 0x0C)
   92 00000000 40011C10 
                       GPIOF_BSRR
                               EQU              (GPIOF_BASE + 0x10)
   93 00000000 40011C14 
                       GPIOF_BRR
                               EQU              (GPIOF_BASE + 0x14)
   94 00000000 40011C18 
                       GPIOF_LCKR
                               EQU              (GPIOF_BASE + 0x18)
   95 00000000         
   96 00000000         ;-------------------------------------------------
   97 00000000         ;=================================================
   98 00000000         ;GPIOG端口寄存器定义
   99 00000000         ;=================================================
  100 00000000 40012000 
                       GPIOG_BASE
                               EQU              0x40012000
  101 00000000 40012000 
                       GPIOG_CRL
                               EQU              (GPIOG_BASE + 0x00)
  102 00000000 40012004 
                       GPIOG_CRH
                               EQU              (GPIOG_BASE + 0x04)
  103 00000000 40012008 
                       GPIOG_IDR
                               EQU              (GPIOG_BASE + 0x08)
  104 00000000 4001200C 
                       GPIOG_ODR
                               EQU              (GPIOG_BASE + 0x0C)
  105 00000000 40012010 
                       GPIOG_BSRR
                               EQU              (GPIOG_BASE + 0x10)



ARM Macro Assembler    Page 5 


  106 00000000 40012014 
                       GPIOG_BRR
                               EQU              (GPIOG_BASE + 0x14)
  107 00000000 40012018 
                       GPIOG_LCKR
                               EQU              (GPIOG_BASE + 0x18)
  108 00000000         
  109 00000000         ;-------------------------------------------------
  110 00000000         ;=================================================
  111 00000000         ;系统中断寄存器定义
  112 00000000         ;=================================================
  113 00000000 E000E100 
                       NVIC_BASE
                               EQU              0xE000E100
  114 00000000 E000E100 
                       NVIC_ISER1
                               EQU              (NVIC_BASE + 0X0000)
  115 00000000 E000E104 
                       NVIC_ISER2
                               EQU              (NVIC_BASE + 0X0004)
  116 00000000 E000E180 
                       NVIC_ICER1
                               EQU              (NVIC_BASE + 0X0080)
  117 00000000 E000E184 
                       NVIC_ICER2
                               EQU              (NVIC_BASE + 0X0084)
  118 00000000 E000E200 
                       NVIC_ISPR1
                               EQU              (NVIC_BASE + 0X0100)
  119 00000000 E000E204 
                       NVIC_ISPR2
                               EQU              (NVIC_BASE + 0X0104)
  120 00000000 E000E280 
                       NVIC_ICPR1
                               EQU              (NVIC_BASE + 0X0180)
  121 00000000 E000E284 
                       NVIC_ICPR2
                               EQU              (NVIC_BASE + 0X0184)
  122 00000000 E000E300 
                       NVIC_IABR1
                               EQU              (NVIC_BASE + 0X0200)
  123 00000000 E000E304 
                       NVIC_IABR2
                               EQU              (NVIC_BASE + 0X0204)
  124 00000000 E000E400 
                       NVIC_IPR_BASE
                               EQU              (NVIC_BASE + 0X0300)
  125 00000000         
  126 00000000         
  127 00000000         ;-------------------------------------------------
  128 00000000         ;=================================================
  129 00000000         ;SCB寄存器组定义
  130 00000000         ;=================================================
  131 00000000 E000ED00 
                       SCB_BASE
                               EQU              0XE000ED00
  132 00000000 E000ED00 
                       SCB_CPUID
                               EQU              (SCB_BASE + 0X00)



ARM Macro Assembler    Page 6 


  133 00000000 E000ED04 
                       SCB_ICSR
                               EQU              (SCB_BASE + 0X04)
  134 00000000 E000ED08 
                       SCB_VTOR
                               EQU              (SCB_BASE + 0X08)
  135 00000000 E000ED0C 
                       SCB_AIRCR
                               EQU              (SCB_BASE + 0X0C)
  136 00000000 E000ED10 
                       SCB_SCR EQU              (SCB_BASE + 0X10)
  137 00000000 E000ED14 
                       SCB_CCR EQU              (SCB_BASE + 0X14)
  138 00000000 E000ED18 
                       SCB_SHPR1
                               EQU              (SCB_BASE + 0X18)
  139 00000000 E000ED1C 
                       SCB_SHPR2
                               EQU              (SCB_BASE + 0X1C)
  140 00000000 E000ED20 
                       SCB_SHPR3
                               EQU              (SCB_BASE + 0X20)
  141 00000000 E000ED24 
                       SCB_SHCSR
                               EQU              (SCB_BASE + 0X24)
  142 00000000 E000ED28 
                       SCB_CFSR
                               EQU              (SCB_BASE + 0X28)
  143 00000000 E000ED2C 
                       SCB_HFSR
                               EQU              (SCB_BASE + 0X2C)
  144 00000000 E000ED30 
                       SCB_DFSR
                               EQU              (SCB_BASE + 0X30)
  145 00000000 E000ED34 
                       SCB_MMFAR
                               EQU              (SCB_BASE + 0X34)
  146 00000000 E000ED38 
                       SCB_BFAR
                               EQU              (SCB_BASE + 0X38)
  147 00000000 E000ED3C 
                       SCB_AFSR
                               EQU              (SCB_BASE + 0X3C)
  148 00000000         
  149 00000000         
  150 00000000         ;-------------------------------------------------
  151 00000000         ;=================================================
  152 00000000         ;Systick reg
  153 00000000         ;=================================================
  154 00000000 E000E010 
                       SysTick_BASE
                               EQU              0xE000E010
  155 00000000 E000E010 
                       SYSTICK_CTRL
                               EQU              (SysTick_BASE + 0x00)
  156 00000000 E000E014 
                       SYSTICK_LOAD
                               EQU              (SysTick_BASE + 0x04)
  157 00000000 E000E018 



ARM Macro Assembler    Page 7 


                       SYSTICK_VAL
                               EQU              (SysTick_BASE + 0X08)
  158 00000000 E000E01C 
                       SYSTICK_CALIB
                               EQU              (SysTick_BASE + 0X0C)
  159 00000000         ;FLASH配置寄存器
  160 00000000 40022000 
                       FLASH_ACR
                               EQU              0x40022000
  161 00000000         
  162 00000000         ;-------------------------------------------------
  163 00000000         ;=================================================
  164 00000000         ;USART1 寄存器定义
  165 00000000         ;=================================================
  166 00000000 40013800 
                       USART1_BASE
                               EQU              0X40013800
  167 00000000 40013800 
                       USART1_SR
                               EQU              (USART1_BASE + 0X00)
  168 00000000 40013804 
                       USART1_DR
                               EQU              (USART1_BASE + 0X04)
  169 00000000 40013808 
                       USART1_BRR
                               EQU              (USART1_BASE + 0X08)
  170 00000000 4001380C 
                       USART1_CR1
                               EQU              (USART1_BASE + 0X0C)
  171 00000000 40013810 
                       USART1_CR2
                               EQU              (USART1_BASE + 0X10)
  172 00000000 40013814 
                       USART1_CR3
                               EQU              (USART1_BASE + 0X14)
  173 00000000 40013818 
                       USART1_GTPR
                               EQU              (USART1_BASE + 0X18)
  174 00000000         
  175 00000000         ;-------------------------------------------------
  176 00000000         ;=================================================
  177 00000000         ;FSMC相关寄存器定义
  178 00000000         ;=================================================
  179 00000000 A0000000 
                       FSMC_Bank1_R_BASE
                               EQU              0XA0000000
  180 00000000 A0000000 
                       FSMC_BANK1_BTCR
                               EQU              (FSMC_Bank1_R_BASE)
  181 00000000 A0000104 
                       FSMC_Bank1E_R_BASE
                               EQU              0XA0000104
  182 00000000 A0000104 
                       FSMC_BANK1E_BWTR
                               EQU              (FSMC_Bank1E_R_BASE)
  183 00000000         
  184 00000000         ;-------------------------------------------------
  185 00000000         ;=================================================
  186 00000000         ;数据位的定义



ARM Macro Assembler    Page 8 


  187 00000000         ;=================================================
  188 00000000 00000001 
                       Bit0    EQU              0x00000001
  189 00000000 00000002 
                       Bit1    EQU              0x00000002
  190 00000000 00000004 
                       Bit2    EQU              0x00000004
  191 00000000 00000008 
                       Bit3    EQU              0x00000008
  192 00000000 00000010 
                       Bit4    EQU              0x00000010
  193 00000000 00000020 
                       Bit5    EQU              0x00000020
  194 00000000 00000040 
                       Bit6    EQU              0x00000040
  195 00000000 00000080 
                       Bit7    EQU              0x00000080
  196 00000000 00000100 
                       Bit8    EQU              0x00000100
  197 00000000 00000200 
                       Bit9    EQU              0x00000200
  198 00000000 00000400 
                       Bit10   EQU              0x00000400
  199 00000000 00000800 
                       Bit11   EQU              0x00000800
  200 00000000 00001000 
                       Bit12   EQU              0x00001000
  201 00000000 00002000 
                       Bit13   EQU              0x00002000
  202 00000000 00004000 
                       Bit14   EQU              0x00004000
  203 00000000 00008000 
                       Bit15   EQU              0x00008000
  204 00000000 00010000 
                       Bit16   EQU              0x00010000
  205 00000000 00020000 
                       Bit17   EQU              0x00020000
  206 00000000 00040000 
                       Bit18   EQU              0x00040000
  207 00000000 00080000 
                       Bit19   EQU              0x00080000
  208 00000000 00100000 
                       Bit20   EQU              0x00100000
  209 00000000 00200000 
                       Bit21   EQU              0x00200000
  210 00000000 00400000 
                       Bit22   EQU              0x00400000
  211 00000000 00800000 
                       Bit23   EQU              0x00800000
  212 00000000 01000000 
                       Bit24   EQU              0x01000000
  213 00000000 02000000 
                       Bit25   EQU              0x02000000
  214 00000000 04000000 
                       Bit26   EQU              0x04000000
  215 00000000 08000000 
                       Bit27   EQU              0x08000000
  216 00000000 10000000 
                       Bit28   EQU              0x10000000



ARM Macro Assembler    Page 9 


  217 00000000 20000000 
                       Bit29   EQU              0x20000000
  218 00000000 40000000 
                       Bit30   EQU              0x40000000
  219 00000000 80000000 
                       Bit31   EQU              0x80000000
  220 00000000         
  221 00000000         ;-------------------------------------------------
  222 00000000         ;=================================================
  223 00000000         ;按键的键值定义
  224 00000000         ;=================================================
  225 00000000 00000001 
                       KEY_UP  EQU              0X01
  226 00000000 00000002 
                       KEY_DOWN
                               EQU              0X02
  227 00000000 00000004 
                       KEY_LEFT
                               EQU              0X04
  228 00000000 00000008 
                       KEY_RIGHT
                               EQU              0X08
  229 00000000 0000000C 
                       KEY_CENTER
                               EQU              0X0C
  230 00000000         ;-------------------------------------------------
  231 00000000         ;=================================================
  232 00000000         ;系统中断号定义
  233 00000000         ;=================================================
  234 00000000         
  235 00000000 00000000 
                       WWDG_IRQChannel
                               EQU              0x00        ;)  /* Window Watch
                                                            Dog Interrupt */
  236 00000000 00000001 
                       PVD_IRQChannel
                               EQU              0x01        ;)  /* PVD through 
                                                            EXTI Line detection
                                                             Interrupt */
  237 00000000 00000002 
                       TAMPER_IRQChannel
                               EQU              0x02        ;)  /* Tamper Inter
                                                            rupt */
  238 00000000 00000003 
                       RTC_IRQChannel
                               EQU              0x03        ;)  /* RTC global I
                                                            nterrupt */
  239 00000000 00000004 
                       FLASH_IRQChannel
                               EQU              0x04        ;)  /* FLASH global
                                                             Interrupt */
  240 00000000 00000005 
                       RCC_IRQChannel
                               EQU              0x05        ;)  /* RCC global I
                                                            nterrupt */
  241 00000000 00000006 
                       EXTI0_IRQChannel
                               EQU              0x06        ;)  /* EXTI Line0 I
                                                            nterrupt */



ARM Macro Assembler    Page 10 


  242 00000000 00000007 
                       EXTI1_IRQChannel
                               EQU              0x07        ;)  /* EXTI Line1 I
                                                            nterrupt */
  243 00000000 00000008 
                       EXTI2_IRQChannel
                               EQU              0x08        ;)  /* EXTI Line2 I
                                                            nterrupt */
  244 00000000 00000009 
                       EXTI3_IRQChannel
                               EQU              0x09        ;)  /* EXTI Line3 I
                                                            nterrupt */
  245 00000000 0000000A 
                       EXTI4_IRQChannel
                               EQU              0x0A        ;)  /* EXTI Line4 I
                                                            nterrupt */
  246 00000000 0000000B 
                       DMA1_Channel1_IRQChannel
                               EQU              0x0B        ;)  /* DMA1 Channel
                                                             1 global Interrupt
                                                             */
  247 00000000 0000000C 
                       DMA1_Channel2_IRQChannel
                               EQU              0x0C        ;)  /* DMA1 Channel
                                                             2 global Interrupt
                                                             */
  248 00000000 0000000D 
                       DMA1_Channel3_IRQChannel
                               EQU              0x0D        ;)  /* DMA1 Channel
                                                             3 global Interrupt
                                                             */
  249 00000000 0000000E 
                       DMA1_Channel4_IRQChannel
                               EQU              0x0E        ;)  /* DMA1 Channel
                                                             4 global Interrupt
                                                             */
  250 00000000 0000000F 
                       DMA1_Channel5_IRQChannel
                               EQU              0x0F        ;)  /* DMA1 Channel
                                                             5 global Interrupt
                                                             */
  251 00000000 00000010 
                       DMA1_Channel6_IRQChannel
                               EQU              0x10        ;)  /* DMA1 Channel
                                                             6 global Interrupt
                                                             */
  252 00000000 00000011 
                       DMA1_Channel7_IRQChannel
                               EQU              0x11        ;)  /* DMA1 Channel
                                                             7 global Interrupt
                                                             */
  253 00000000 00000012 
                       ADC1_2_IRQChannel
                               EQU              0x12        ;)  /* ADC1 et ADC2
                                                             global Interrupt *
                                                            /
  254 00000000 00000013 
                       USB_HP_CAN_TX_IRQChannel
                               EQU              0x13        ;)  /* USB High Pri



ARM Macro Assembler    Page 11 


                                                            ority or CAN TX Int
                                                            errupts */
  255 00000000 00000014 
                       USB_LP_CAN_RX0_IRQChannel
                               EQU              0x14        ;)  /* USB Low Prio
                                                            rity or CAN RX0 Int
                                                            errupts */
  256 00000000 00000015 
                       CAN_RX1_IRQChannel
                               EQU              0x15        ;)  /* CAN RX1 Inte
                                                            rrupt */
  257 00000000 00000016 
                       CAN_SCE_IRQChannel
                               EQU              0x16        ;)  /* CAN SCE Inte
                                                            rrupt */
  258 00000000 00000017 
                       EXTI9_5_IRQChannel
                               EQU              0x17        ;)  /* External Lin
                                                            e[9:5] Interrupts *
                                                            /
  259 00000000 00000018 
                       TIM1_BRK_IRQChannel
                               EQU              0x18        ;)  /* TIM1 Break I
                                                            nterrupt */
  260 00000000 00000019 
                       TIM1_UP_IRQChannel
                               EQU              0x19        ;)  /* TIM1 Update 
                                                            Interrupt */
  261 00000000 0000001A 
                       TIM1_TRG_COM_IRQChannel
                               EQU              0x1A        ;)  /* TIM1 Trigger
                                                             and Commutation In
                                                            terrupt */
  262 00000000 0000001B 
                       TIM1_CC_IRQChannel
                               EQU              0x1B        ;)  /* TIM1 Capture
                                                             Compare Interrupt 
                                                            */
  263 00000000 0000001C 
                       TIM2_IRQChannel
                               EQU              0x1C        ;)  /* TIM2 global 
                                                            Interrupt */
  264 00000000 0000001D 
                       TIM3_IRQChannel
                               EQU              0x1D        ;)  /* TIM3 global 
                                                            Interrupt */
  265 00000000 0000001E 
                       TIM4_IRQChannel
                               EQU              0x1E        ;)  /* TIM4 global 
                                                            Interrupt */
  266 00000000 0000001F 
                       I2C1_EV_IRQChannel
                               EQU              0x1F        ;)  /* I2C1 Event I
                                                            nterrupt */
  267 00000000 00000020 
                       I2C1_ER_IRQChannel
                               EQU              0x20        ;)  /* I2C1 Error I
                                                            nterrupt */
  268 00000000 00000021 



ARM Macro Assembler    Page 12 


                       I2C2_EV_IRQChannel
                               EQU              0x21        ;)  /* I2C2 Event I
                                                            nterrupt */
  269 00000000 00000022 
                       I2C2_ER_IRQChannel
                               EQU              0x22        ;)  /* I2C2 Error I
                                                            nterrupt */
  270 00000000 00000023 
                       SPI1_IRQChannel
                               EQU              0x23        ;)  /* SPI1 global 
                                                            Interrupt */
  271 00000000 00000024 
                       SPI2_IRQChannel
                               EQU              0x24        ;)  /* SPI2 global 
                                                            Interrupt */
  272 00000000 00000025 
                       USART1_IRQChannel
                               EQU              0x25        ;)  /* USART1 globa
                                                            l Interrupt */
  273 00000000 00000026 
                       USART2_IRQChannel
                               EQU              0x26        ;)  /* USART2 globa
                                                            l Interrupt */
  274 00000000 00000027 
                       USART3_IRQChannel
                               EQU              0x27        ;)  /* USART3 globa
                                                            l Interrupt */
  275 00000000 00000028 
                       EXTI15_10_IRQChannel
                               EQU              0x28        ;)  /* External Lin
                                                            e[15:10] Interrupts
                                                             */
  276 00000000 00000029 
                       RTCAlarm_IRQChannel
                               EQU              0x29        ;)  /* RTC Alarm th
                                                            rough EXTI Line Int
                                                            errupt */
  277 00000000 0000002A 
                       USBWakeUp_IRQChannel
                               EQU              0x2A        ;)  /* USB WakeUp f
                                                            rom suspend through
                                                             EXTI Line Interrup
                                                            t */
  278 00000000 0000002B 
                       TIM8_BRK_IRQChannel
                               EQU              0x2B        ;)  /* TIM8 Break I
                                                            nterrupt */
  279 00000000 0000002C 
                       TIM8_UP_IRQChannel
                               EQU              0x2C        ;)  /* TIM8 Update 
                                                            Interrupt */
  280 00000000 0000002D 
                       TIM8_TRG_COM_IRQChannel
                               EQU              0x2D        ;)  /* TIM8 Trigger
                                                             and Commutation In
                                                            terrupt */
  281 00000000 0000002E 
                       TIM8_CC_IRQChannel
                               EQU              0x2E        ;)  /* TIM8 Capture



ARM Macro Assembler    Page 13 


                                                             Compare Interrupt 
                                                            */
  282 00000000 0000002F 
                       ADC3_IRQChannel
                               EQU              0x2F        ;)  /* ADC3 global 
                                                            Interrupt */
  283 00000000 00000030 
                       FSMC_IRQChannel
                               EQU              0x30        ;)  /* FSMC global 
                                                            Interrupt */
  284 00000000 00000031 
                       SDIO_IRQChannel
                               EQU              0x31        ;)  /* SDIO global 
                                                            Interrupt */
  285 00000000 00000032 
                       TIM5_IRQChannel
                               EQU              0x32        ;)  /* TIM5 global 
                                                            Interrupt */
  286 00000000 00000033 
                       SPI3_IRQChannel
                               EQU              0x33        ;)  /* SPI3 global 
                                                            Interrupt */
  287 00000000 00000034 
                       UART4_IRQChannel
                               EQU              0x34        ;)  /* UART4 global
                                                             Interrupt */
  288 00000000 00000035 
                       UART5_IRQChannel
                               EQU              0x35        ;)  /* UART5 global
                                                             Interrupt */
  289 00000000 00000036 
                       TIM6_IRQChannel
                               EQU              0x36        ;)  /* TIM6 global 
                                                            Interrupt */
  290 00000000 00000037 
                       TIM7_IRQChannel
                               EQU              0x37        ;)  /* TIM7 global 
                                                            Interrupt */
  291 00000000 00000038 
                       DMA2_Channel1_IRQChannel
                               EQU              0x38        ;)  /* DMA2 Channel
                                                             1 global Interrupt
                                                             */
  292 00000000 00000039 
                       DMA2_Channel2_IRQChannel
                               EQU              0x39        ;)  /* DMA2 Channel
                                                             2 global Interrupt
                                                             */
  293 00000000 0000003A 
                       DMA2_Channel3_IRQChannel
                               EQU              0x3A        ;)  /* DMA2 Channel
                                                             3 global Interrupt
                                                             */
  294 00000000 0000003B 
                       DMA2_Channel4_5_IRQChannel
                               EQU              0x3B        ;)  /* DMA2 Channel
                                                             4 and DMA2 Channel
                                                             5 global Interrupt
                                                             */



ARM Macro Assembler    Page 14 


  295 00000000         
  296 00000000         ;颜色定义    
  297 00000000 0000FFFF 
                       WHITE   EQU              0x0000FFFF
  298 00000000 00000000 
                       BLACK   EQU              0x00000000
  299 00000000 0000F800 
                       BLUE    EQU              0x0000F800
  300 00000000 0000F81F 
                       BRED    EQU              0X0000F81F
  301 00000000 0000FFE0 
                       GRED    EQU              0X0000FFE0
  302 00000000 0000001F 
                       RED     EQU              0x0000001F
  303 00000000 0000F81F 
                       MAGENTA EQU              0x0000F81F
  304 00000000 000007E0 
                       GREEN   EQU              0x000007E0
  305 00000000 00007FFF 
                       CYAN    EQU              0x00007FFF
  306 00000000 000007FF 
                       YELLOW  EQU              0x000007FF
  307 00000000 0000BC40 
                       BROWN   EQU              0X0000BC40
  308 00000000 0000FC07 
                       BRRED   EQU              0X0000FC07
  309 00000000 00008430 
                       GRAY    EQU              0X00008430
  310 00000000         
  311 00000000         
  312 00000000         
  313 00000000                 END
    5 00000000         
    6 00000000         ;lcd命令地址与数据地址
    7 00000000 6C0007FE 
                       LCD_ADDR_BASE
                               EQU              0x6C0007FE
    8 00000000 6C0007FE 
                       LCD_CMD_ADDR
                               EQU              (LCD_ADDR_BASE + 0X00)
    9 00000000 6C000800 
                       LCD_DATA_ADDR
                               EQU              (LCD_ADDR_BASE + 0X02)
   10 00000000 000001E0 
                       LCD_WIDTH
                               EQU              480
   11 00000000 00000140 
                       LCD_HEIGHT
                               EQU              320
   12 00000000 0000002C 
                       LCD_CMD_WR
                               EQU              0X002C
   13 00000000 0000002A 
                       LCD_CMD_X
                               EQU              0X002A
   14 00000000 0000002B 
                       LCD_CMD_Y
                               EQU              0X002B
   15 00000000 00000000 



ARM Macro Assembler    Page 15 


                       LCD_PEN_COLOR
                               EQU              BLACK
   16 00000000                 AREA             TFTLCD_CODE, CODE, READONLY
   17 00000000                 IMPORT           SYS_DELAY_MS
   18 00000000                 IMPORT           USART1_PUTC
   19 00000000         ;液晶屏初始化函数
   20 00000000         LCD_INIT
                               PROC
   21 00000000                 EXPORT           LCD_INIT
   22 00000000 E92D 41FF       PUSH             {R0-R8, LR}
   23 00000004         ;相关I/O端口初始化
   24 00000004 48D7    LCD_IO_INIT
                               LDR              R0, =RCC_AHBENR
   25 00000006         ;开启FSMC时钟
   26 00000006 6801            LDR              R1, [R0]
   27 00000008 F441 7180       ORR              R1, #Bit8
   28 0000000C 6001            STR              R1, [R0]
   29 0000000E         ;使能GPIO B D E G端口时钟
   30 0000000E 48D6            LDR              R0, =RCC_APB2ENR
   31 00000010 6801            LDR              R1, [R0]
   32 00000012 F441 71B4       ORR              R1, #0X0168
   33 00000016 6001            STR              R1, [R0]
   34 00000018         ;PB0推挽输出，控制lcd背光
   35 00000018 48D4            LDR              R0, =GPIOB_CRL
   36 0000001A 6801            LDR              R1, [R0]
   37 0000001C F021 010F       BIC              R1, #0X0F
   38 00000020 F041 0103       ORR              R1, #0X03
   39 00000024 6001            STR              R1, [R0]
   40 00000026         ;GPIOD 0 1 4 5 8 9 10 14 15 设置为复用功能
   41 00000026 48D2            LDR              R0, =GPIOD_CRH
   42 00000028 6801            LDR              R1, [R0]
   43 0000002A 4AD2            LDR              R2, =0X00FFF000
   44 0000002C EA01 0102       AND              R1, R2
   45 00000030 4AD1            LDR              R2, =0XBB000BBB
   46 00000032 EA41 0102       ORR              R1, R2
   47 00000036 6001            STR              R1, [R0]
   48 00000038 48D0            LDR              R0, =GPIOD_CRL
   49 0000003A 6801            LDR              R1, [R0]
   50 0000003C F04F 22FF       LDR              R2, =0XFF00FF00
   51 00000040 EA01 0102       AND              R1, R2
   52 00000044 F04F 12BB       LDR              R2, =0X00BB00BB
   53 00000048 EA41 0102       ORR              R1, R2
   54 0000004C 6001            STR              R1, [R0]
   55 0000004E         ;E口设置,相关引脚设置为复用功能
   56 0000004E 48CC            LDR              R0, =GPIOE_CRH
   57 00000050 F04F 31BB       LDR              R1, =0XBBBBBBBB
   58 00000054 6001            STR              R1, [R0]
   59 00000056 48CB            LDR              R0, =GPIOE_CRL
   60 00000058 6801            LDR              R1, [R0]
   61 0000005A 4ACB            LDR              R2, =0X0FFFFFFF
   62 0000005C EA01 0102       AND              R1, R2
   63 00000060 F04F 4230       LDR              R2, =0XB0000000
   64 00000064 EA41 0102       ORR              R1, R2
   65 00000068 6001            STR              R1, [R0]
   66 0000006A         ;G口设置
   67 0000006A 48C8            LDR              R0, =GPIOG_CRH
   68 0000006C 6801            LDR              R1, [R0]
   69 0000006E 4AC8            LDR              R2, =0XFFF0FFFF
   70 00000070 EA01 0102       AND              R1, R2



ARM Macro Assembler    Page 16 


   71 00000074 F44F 2230       LDR              R2, =0X000B0000
   72 00000078 EA41 0102       ORR              R1, R2
   73 0000007C 6001            STR              R1, [R0]
   74 0000007E 48C5            LDR              R0, =GPIOG_CRL
   75 00000080 6801            LDR              R1, [R0]
   76 00000082 4AC5            LDR              R2, =0XFFFFFFF0
   77 00000084 EA01 0102       AND              R1, R2
   78 00000088 F04F 020B       LDR              R2, =0X0000000B
   79 0000008C EA41 0102       ORR              R1, R2
   80 00000090 6001            STR              R1, [R0]
   81 00000092         ;FSMC功能配置
   82 00000092 F04F 4020 
                       LCD_FSMC_INIT
                               LDR              R0, =FSMC_BANK1_BTCR
   83 00000096 F04F 0218       MOV              R2, #24
   84 0000009A F04F 0100       MOV              R1, #0
   85 0000009E         ;bcr[4] 的第4、12、14位置1
   86 0000009E F245 0311       LDR              R3, =0X00005011
   87 000000A2 EA41 0103       ORR              R1, R3
   88 000000A6 5081            STR              R1, [R0, R2]
   89 000000A8 F04F 021C       MOV              R2, #28
   90 000000AC F04F 0100       MOV              R1, #0
   91 000000B0 F640 7301       LDR              R3, =0X00000F01
   92 000000B4 EA41 0103       ORR              R1, R3
   93 000000B8 5081            STR              R1, [R0, R2]
   94 000000BA 48B8            LDR              R0, =FSMC_BANK1E_BWTR
   95 000000BC F04F 0218       MOV              R2, #24
   96 000000C0 F04F 0100       MOV              R1, #0
   97 000000C4 F441 7140       ORR              R1, #0X00000300
   98 000000C8 5081            STR              R1, [R0, R2]
   99 000000CA F04F 0032       MOV              R0, #50
  100 000000CE F7FF FFFE       BL               SYS_DELAY_MS
  101 000000D2         ;启动LCD时钟
  102 000000D2 4FB3            LDR              R7, =LCD_CMD_ADDR
  103 000000D4 F8DF 82CC       LDR              R8, =LCD_DATA_ADDR
  104 000000D8 F04F 0200       MOV              R2, #0X0000
  105 000000DC 803A            STRH             R2, [R7]
  106 000000DE F04F 0201       MOV              R2, #0X0001
  107 000000E2 F8A8 2000       STRH             R2, [R8]
  108 000000E6 F04F 0032       MOV              R0, #50
  109 000000EA F7FF FFFE       BL               SYS_DELAY_MS
  110 000000EE         ;如果需要获取芯片ID则不执行此指令
  111 000000EE         ;B  LCD_CONFIG_PARM
  112 000000EE         ;获取驱动芯片ID
  113 000000EE F04F 0000       MOV              R0, #0
  114 000000F2 8038            STRH             R0, [R7]
  115 000000F4 BF00            NOP
  116 000000F6 BF00            NOP
  117 000000F8 BF00            NOP
  118 000000FA F8B8 0000       LDRH             R0, [R8]
  119 000000FE F64F 71FF       LDR              R1, =0XFFFF
  120 00000102 28FF            CMP              R0, #0XFF
  121 00000104 D302            BLO              LCD_GET_ID
  122 00000106 4288            CMP              R0, R1
  123 00000108 D000            BEQ              LCD_GET_ID
  124 0000010A E129            B                LCD_INIT_OVER
  125 0000010C F04F 00D3 
                       LCD_GET_ID
                               MOV              R0, #0X00D3



ARM Macro Assembler    Page 17 


  126 00000110 8038            STRH             R0, [R7]
  127 00000112 F8B8 0000       LDRH             R0, [R8]
  128 00000116 F8B8 0000       LDRH             R0, [R8]
  129 0000011A F8B8 0000       LDRH             R0, [R8]
  130 0000011E EA4F 2000       LSL              R0, #8
  131 00000122 F8B8 1000       LDRH             R1, [R8]
  132 00000126 EA40 0001       ORR              R0, R1
  133 0000012A F7FF FFFE       BL               USART1_PUTC
  134 0000012E EA4F 2010       LSR              R0, #8
  135 00000132 F7FF FFFE 
                       LCD_GET_ID_OVER
                               BL               USART1_PUTC
  136 00000136         
  137 00000136 F04F 0013 
                       LCD_CONFIG_PARM
                               MOV              R0, #0X0013
  138 0000013A 8038            STRH             R0, [R7]
  139 0000013C F04F 00B1       MOV              R0, #0X00B1
  140 00000140 8038            STRH             R0, [R7]
  141 00000142 F04F 00A0       MOV              R0, #0X00A0
  142 00000146 F8A8 0000       STRH             R0, [R8]
  143 0000014A F04F 0000       MOV              R0, #0X0000
  144 0000014E F8A8 0000       STRH             R0, [R8]
  145 00000152 F04F 00B4       MOV              R0, #0X00B4
  146 00000156 8038            STRH             R0, [R7]
  147 00000158 F04F 0000       MOV              R0, #0X0000
  148 0000015C F8A8 0000       STRH             R0, [R8]
  149 00000160         ;设置水平方向显示边界 480
  150 00000160 F04F 002A       MOV              R0, #0X002A
  151 00000164 8038            STRH             R0, [R7]
  152 00000166 F04F 0000       MOV              R0, #0X0000
  153 0000016A F8A8 0000       STRH             R0, [R8]
  154 0000016E F8A8 0000       STRH             R0, [R8]
  155 00000172 F04F 0001       MOV              R0, #0X0001
  156 00000176 F8A8 0000       STRH             R0, [R8]
  157 0000017A F04F 00DF       MOV              R0, #0X00DF
  158 0000017E F8A8 0000       STRH             R0, [R8]
  159 00000182         ;设置垂直方向显示边界 320
  160 00000182 F04F 002B       MOV              R0, #0X002B
  161 00000186 8038            STRH             R0, [R7]
  162 00000188 F04F 0000       MOV              R0, #0X0000
  163 0000018C F8A8 0000       STRH             R0, [R8]
  164 00000190 F8A8 0000       STRH             R0, [R8]
  165 00000194 F04F 0001       MOV              R0, #0X0001
  166 00000198 F8A8 0000       STRH             R0, [R8]
  167 0000019C F04F 003F       MOV              R0, #0X003F
  168 000001A0 F8A8 0000       STRH             R0, [R8]
  169 000001A4 F04F 0035       MOV              R0, #0X0035
  170 000001A8 8038            STRH             R0, [R7]
  171 000001AA F04F 0000       MOV              R0, #0X0000
  172 000001AE F8A8 0000       STRH             R0, [R8]
  173 000001B2 F04F 0036       MOV              R0, #0X0036
  174 000001B6 8038            STRH             R0, [R7]
  175 000001B8 F04F 0030       MOV              R0, #0X0030
  176 000001BC F8A8 0000       STRH             R0, [R8]
  177 000001C0         ;设置灰度正向电压调整伽马值
  178 000001C0 F04F 00E0       MOV              R0, #0X00E0
  179 000001C4 8038            STRH             R0, [R7]
  180 000001C6 F04F 0009       MOV              R0, #0X0009



ARM Macro Assembler    Page 18 


  181 000001CA F8A8 0000       STRH             R0, [R8]
  182 000001CE F04F 000A       MOV              R0, #0X000A
  183 000001D2 F8A8 0000       STRH             R0, [R8]
  184 000001D6 F04F 000E       MOV              R0, #0X000E
  185 000001DA F8A8 0000       STRH             R0, [R8]
  186 000001DE F04F 000D       MOV              R0, #0X000D
  187 000001E2 F8A8 0000       STRH             R0, [R8]
  188 000001E6 F04F 0007       MOV              R0, #0X0007
  189 000001EA F8A8 0000       STRH             R0, [R8]
  190 000001EE F04F 0018       MOV              R0, #0X0018
  191 000001F2 F8A8 0000       STRH             R0, [R8]
  192 000001F6 F04F 000D       MOV              R0, #0X000D
  193 000001FA F8A8 0000       STRH             R0, [R8]
  194 000001FE F8A8 0000       STRH             R0, [R8]
  195 00000202 F04F 000E       MOV              R0, #0X000E
  196 00000206 F8A8 0000       STRH             R0, [R8]
  197 0000020A F04F 0004       MOV              R0, #0X0004
  198 0000020E F8A8 0000       STRH             R0, [R8]
  199 00000212 F04F 0005       MOV              R0, #0X0005
  200 00000216 F8A8 0000       STRH             R0, [R8]
  201 0000021A F04F 0006       MOV              R0, #0X0006
  202 0000021E F8A8 0000       STRH             R0, [R8]
  203 00000222 F04F 000E       MOV              R0, #0X000E
  204 00000226 F8A8 0000       STRH             R0, [R8]
  205 0000022A F04F 0025       MOV              R0, #0X0025
  206 0000022E F8A8 0000       STRH             R0, [R8]
  207 00000232 F04F 0022       MOV              R0, #0X0022
  208 00000236 F8A8 0000       STRH             R0, [R8]
  209 0000023A         ;设置灰度负向电压调整伽马值
  210 0000023A F04F 00E1       MOV              R0, #0X00E1
  211 0000023E 8038            STRH             R0, [R7]
  212 00000240 F04F 001F       MOV              R0, #0X001F
  213 00000244 F8A8 0000       STRH             R0, [R8]
  214 00000248 F04F 003F       MOV              R0, #0X003F
  215 0000024C F8A8 0000       STRH             R0, [R8]
  216 00000250 F8A8 0000       STRH             R0, [R8]
  217 00000254 F04F 000F       MOV              R0, #0X000F
  218 00000258 F8A8 0000       STRH             R0, [R8]
  219 0000025C F04F 001F       MOV              R0, #0X001F
  220 00000260 F8A8 0000       STRH             R0, [R8]
  221 00000264 F04F 000F       MOV              R0, #0X000F
  222 00000268 F8A8 0000       STRH             R0, [R8]
  223 0000026C F04F 0046       MOV              R0, #0X0046
  224 00000270 F8A8 0000       STRH             R0, [R8]
  225 00000274 F04F 0049       MOV              R0, #0X0049
  226 00000278 F8A8 0000       STRH             R0, [R8]
  227 0000027C F04F 0031       MOV              R0, #0X0031
  228 00000280 F8A8 0000       STRH             R0, [R8]
  229 00000284 F04F 0005       MOV              R0, #0X0005
  230 00000288 F8A8 0000       STRH             R0, [R8]
  231 0000028C F04F 0009       MOV              R0, #0X0009
  232 00000290 F8A8 0000       STRH             R0, [R8]
  233 00000294 F04F 0003       MOV              R0, #0X0003
  234 00000298 F8A8 0000       STRH             R0, [R8]
  235 0000029C F04F 001C       MOV              R0, #0X001C
  236 000002A0 F8A8 0000       STRH             R0, [R8]
  237 000002A4 F04F 001A       MOV              R0, #0X001A
  238 000002A8 F8A8 0000       STRH             R0, [R8]
  239 000002AC F04F 0000       MOV              R0, #0X0000



ARM Macro Assembler    Page 19 


  240 000002B0 F8A8 0000       STRH             R0, [R8]
  241 000002B4         ;设置像素格式 16位色
  242 000002B4 F04F 003A       MOV              R0, #0X003A
  243 000002B8 8038            STRH             R0, [R7]
  244 000002BA F04F 0055       MOV              R0, #0X0055
  245 000002BE F8A8 0000       STRH             R0, [R8]
  246 000002C2         ;Write Tear Scan Line
  247 000002C2 F04F 0044       MOV              R0, #0X0044
  248 000002C6 8038            STRH             R0, [R7]
  249 000002C8 F04F 0000       MOV              R0, #0X0000
  250 000002CC F8A8 0000       STRH             R0, [R8]
  251 000002D0 F04F 0001       MOV              R0, #0X0001
  252 000002D4 F8A8 0000       STRH             R0, [R8]
  253 000002D8         ;TURN OFF SLEEP MODE
  254 000002D8 F04F 0011       MOV              R0, #0X0011
  255 000002DC 8038            STRH             R0, [R7]
  256 000002DE F04F 0096       MOV              R0, #150
  257 000002E2 F7FF FFFE       BL               SYS_DELAY_MS
  258 000002E6         ;NV memory write
  259 000002E6 F04F 00D0       MOV              R0, #0X00D0
  260 000002EA 8038            STRH             R0, [R7]
  261 000002EC F04F 0007       MOV              R0, #0X0007
  262 000002F0 F8A8 0000       STRH             R0, [R8]
  263 000002F4 F8A8 0000       STRH             R0, [R8]
  264 000002F8         ;NV memory protection key
  265 000002F8 F04F 00D1       MOV              R0, #0X00D1
  266 000002FC 8038            STRH             R0, [R7]
  267 000002FE F04F 0003       MOV              R0, #0X0003
  268 00000302 F8A8 0000       STRH             R0, [R8]
  269 00000306 F04F 0052       MOV              R0, #0X0052
  270 0000030A F8A8 0000       STRH             R0, [R8]
  271 0000030E F04F 0010       MOV              R0, #0X0010
  272 00000312 F8A8 0000       STRH             R0, [R8]
  273 00000316         ;NV memory status read
  274 00000316 F04F 00D2       MOV              R0, #0X00D2
  275 0000031A 8038            STRH             R0, [R7]
  276 0000031C F04F 0003       MOV              R0, #0X0003
  277 00000320 F8A8 0000       STRH             R0, [R8]
  278 00000324 F04F 0024       MOV              R0, #0X0024
  279 00000328 F8A8 0000       STRH             R0, [R8]
  280 0000032C F04F 0020       MOV              R0, #0X0020
  281 00000330 8038            STRH             R0, [R7]
  282 00000332         ;Interface mode control
  283 00000332 F04F 00B0       MOV              R0, #0X00B0
  284 00000336 8038            STRH             R0, [R7]
  285 00000338 F04F 0000       MOV              R0, #0X0000
  286 0000033C F8A8 0000       STRH             R0, [R8]
  287 00000340         ;Display on
  288 00000340 F04F 0029       MOV              R0, #0X0029
  289 00000344 8038            STRH             R0, [R7]
  290 00000346 F04F 000A       MOV              R0, #10
  291 0000034A F7FF FFFE       BL               SYS_DELAY_MS
  292 0000034E         ;点亮lcd背光 PB0 
  293 0000034E 4816            LDR              R0, =GPIOB_ODR
  294 00000350 6801            LDR              R1, [R0]
  295 00000352 F041 0101       ORR              R1, #0X00000001
  296 00000356 6001            STR              R1, [R0]
  297 00000358         
  298 00000358         ;利用白色填充整个屏幕



ARM Macro Assembler    Page 20 


  299 00000358 F04F 001F       LDR              R0, =RED
  300 0000035C F7FF FFFE       BL               LCD_CLEAR
  301 00000360 E8BD 81FF 
                       LCD_INIT_OVER
                               POP              {R0-R8, PC}
  302 00000364         ;定义文字池，相当于常量区
  303 00000364                 ALIGN
  304 00000364 40021014 
              40021018 
              40010C00 
              40011404 
              00FFF000 
              BB000BBB 
              40011400 
              40011804 
              40011800 
              0FFFFFFF 
              40012004 
              FFF0FFFF 
              40012000 
              FFFFFFF0 
              A0000104 
              6C0007FE 
              6C000800 
              40010C0C         LTORG
  305 000003AC                 ENDP
  306 000003AC         
  307 000003AC         ;设定一个矩形的显示区域
  308 000003AC         ;R0  水平方向 左边界
  309 000003AC         ;R1  垂直方向 上边界
  310 000003AC         ;R2  水平方向 右边界
  311 000003AC         ;R3  垂直方向 下边界
  312 000003AC         LCD_SET_WINDOW
                               PROC
  313 000003AC                 EXPORT           LCD_SET_WINDOW
  314 000003AC E92D 41FF       PUSH             {R0-R8, LR}
  315 000003B0 4F12            LDR              R7, =LCD_CMD_ADDR
  316 000003B2 F85F 8010       LDR              R8, =LCD_DATA_ADDR
  317 000003B6 F04F 042A       MOV              R4, #LCD_CMD_X
  318 000003BA 803C            STRH             R4, [R7]
  319 000003BC EA4F 2510       LSR              R5, R0, #8
  320 000003C0 F8A8 5000       STRH             R5, [R8]    ;左边界高8位
  321 000003C4 F8A8 0000       STRH             R0, [R8]    ;左边界低8位
  322 000003C8 EA4F 2512       LSR              R5, R2, #8
  323 000003CC F8A8 5000       STRH             R5, [R8]    ;右边界高8位
  324 000003D0 F8A8 2000       STRH             R2, [R8]    ;右边界低8位
  325 000003D4 F04F 042B       MOV              R4, #LCD_CMD_Y
  326 000003D8 803C            STRH             R4, [R7]
  327 000003DA EA4F 2511       LSR              R5, R1, #8
  328 000003DE F8A8 5000       STRH             R5, [R8]    ;上边界高8位
  329 000003E2 F8A8 1000       STRH             R1, [R8]    ;上边界低8位
  330 000003E6 EA4F 2513       LSR              R5, R3, #8
  331 000003EA F8A8 5000       STRH             R5, [R8]    ;下边界高8位
  332 000003EE F8A8 3000       STRH             R3, [R8]    ;下边界低8位
  333 000003F2         ;启用写寄存器
  334 000003F2 F04F 042C       MOV              R4, #LCD_CMD_WR
  335 000003F6 803C            STRH             R4, [R7]
  336 000003F8 E8BD 81FF       POP              {R0-R8, PC}
  337 000003FC         ;定义文字池，相当于常量区



ARM Macro Assembler    Page 21 


  338 000003FC                 ALIGN
  339 000003FC 6C0007FE 
              6C000800         LTORG
  340 00000404                 ENDP
  341 00000404         ;用单一颜色填充整个屏幕
  342 00000404         ;R0 颜色值
  343 00000404         LCD_CLEAR
                               PROC
  344 00000404                 EXPORT           LCD_CLEAR
  345 00000404 E92D 41FF       PUSH             {R0-R8, LR}
  346 00000408 4F41            LDR              R7, =LCD_CMD_ADDR
  347 0000040A F85F 8068       LDR              R8, =LCD_DATA_ADDR
  348 0000040E B401            PUSH             {R0}
  349 00000410         ;选定整个屏幕区域
  350 00000410 F04F 0000       MOV              R0, #0
  351 00000414 F04F 0100       MOV              R1, #0
  352 00000418 F44F 72F0       MOV              R2, #480
  353 0000041C F44F 73A0       MOV              R3, #320
  354 00000420 F7FF FFFE       BL               LCD_SET_WINDOW
  355 00000424 F44F 70F0       MOV              R0, #480
  356 00000428 F44F 71A0       MOV              R1, #320
  357 0000042C FB01 F100       MUL              R1, R0
  358 00000430         ;将像素数据写入屏幕
  359 00000430 BC01            POP              {R0}
  360 00000432 3901    LCD_WRITE_DATA
                               SUBS             R1, #1
  361 00000434 F8A8 0000       STRH             R0, [R8]
  362 00000438 D1FB            BNE              LCD_WRITE_DATA
  363 0000043A E8BD 81FF       POP              {R0-R8, PC}
  364 0000043E                 ENDP
  365 0000043E         
  366 0000043E         
  367 0000043E         ;在屏幕上画点
  368 0000043E         ;r0 水平坐标
  369 0000043E         ;r1 垂直坐标
  370 0000043E         ;r2 颜色
  371 0000043E         LCD_DRAW_POINT
                               PROC
  372 0000043E                 EXPORT           LCD_DRAW_POINT
  373 0000043E E92D 41FF       PUSH             {R0-R8, LR}
  374 00000442 4F33            LDR              R7, =LCD_CMD_ADDR
  375 00000444 F85F 80A4       LDR              R8, =LCD_DATA_ADDR
  376 00000448         ;设定水平方向坐标
  377 00000448 F04F 032A       MOV              R3, #LCD_CMD_X
  378 0000044C 803B            STRH             R3, [R7]
  379 0000044E EA4F 2410       LSR              R4, R0, #8
  380 00000452 F8A8 4000       STRH             R4, [R8]
  381 00000456 F8A8 0000       STRH             R0, [R8]
  382 0000045A F8A8 4000       STRH             R4, [R8]
  383 0000045E F8A8 0000       STRH             R0, [R8]
  384 00000462         ;设定垂直方向的坐标
  385 00000462 F04F 032B       MOV              R3, #LCD_CMD_Y
  386 00000466 803B            STRH             R3, [R7]
  387 00000468 EA4F 2411       LSR              R4, R1, #8
  388 0000046C F8A8 4000       STRH             R4, [R8]
  389 00000470 F8A8 1000       STRH             R1, [R8]
  390 00000474 F8A8 4000       STRH             R4, [R8]
  391 00000478 F8A8 1000       STRH             R1, [R8]
  392 0000047C F04F 032C       MOV              R3, #LCD_CMD_WR



ARM Macro Assembler    Page 22 


  393 00000480 803B            STRH             R3, [R7]
  394 00000482 F8A8 2000       STRH             R2, [R8]
  395 00000486 E8BD 81FF       POP              {R0-R8, PC}
  396 0000048A                 ENDP
  397 0000048A         
  398 0000048A         ;在指定坐标位置绘制一个英文字符
  399 0000048A         ;r0 水平坐标
  400 0000048A         ;r1 垂直坐标
  401 0000048A         ;r2 要打印的字符
  402 0000048A         LCD_DRAW_CHAR
                               PROC
  403 0000048A                 IMPORT           F_ASCII_16
  404 0000048A                 EXPORT           LCD_DRAW_CHAR
  405 0000048A E92D 41FF       PUSH             {R0-R8, LR}
  406 0000048E         ;获取当前字符在字库中的偏移位置
  407 0000048E F04F 0320       MOV              R3, #' '
  408 00000492 EBA2 0203       SUB              R2, R3
  409 00000496 EA4F 1202       LSL              R2, #4
  410 0000049A 4B1F            LDR              R3, =F_ASCII_16
  411 0000049C 441A            ADD              R2, R3
  412 0000049E         ;保存垂直坐标初始值
  413 0000049E 4689            MOV              R9, R1
  414 000004A0         ;开始绘制
  415 000004A0 F04F 0300       MOV              R3, #0
  416 000004A4 5CD4    DRAW_NEXT_BYTE
                               LDRB             R4, [R2, R3]
  417 000004A6 F04F 0800       MOV              R8, #0
  418 000004AA F04F 0780       MOV              R7, #0X80
  419 000004AE B404            PUSH             {R2}
  420 000004B0 F04F 0200       MOV              R2, #LCD_PEN_COLOR
  421 000004B4 EA14 0607 
                       DRAW_NEXT_BIT
                               ANDS             R6, R4, R7
  422 000004B8 BF18 F7FF 
              FFFE             BLNE             LCD_DRAW_POINT
  423 000004BE         ;绘制完当前坐标，垂直坐标下移
  424 000004BE F101 0101       ADD              R1, #1
  425 000004C2         ;bit标记量自加
  426 000004C2 F108 0801       ADD              R8, #1
  427 000004C6 EA4F 0444       LSL              R4, #1
  428 000004CA F1B8 0F08       CMP              R8, #8
  429 000004CE D1F1            BNE              DRAW_NEXT_BIT
  430 000004D0 EBA1 0A09       SUB              R10, R1, R9
  431 000004D4 F1BA 0F10       CMP              R10, #16
  432 000004D8         ;扫描完一列，开启新的一列
  433 000004D8 BF04 4649       MOVEQ            R1, R9
  434 000004DC 3001            ADDEQ            R0, #1
  435 000004DE BC04            POP              {R2}
  436 000004E0 F103 0301       ADD              R3, #1
  437 000004E4 2B10            CMP              R3, #16
  438 000004E6 D1DD            BNE              DRAW_NEXT_BYTE
  439 000004E8 E8BD 81FF       POP              {R0-R8, PC}
  440 000004EC                 ENDP
  441 000004EC         ;在屏幕上沿水平方向打印一个以'\0'结尾的字符串
  442 000004EC         ;r0 x坐标
  443 000004EC         ;r1 y坐标
  444 000004EC         ;r2 字符串首地址
  445 000004EC         LCD_DRAW_STR
                               PROC



ARM Macro Assembler    Page 23 


  446 000004EC                 EXPORT           LCD_DRAW_STR
  447 000004EC E92D 41FF       PUSH             {R0-R8, LR}
  448 000004F0 7813    DRAW_NEXT_CHR
                               LDRB             R3, [R2]
  449 000004F2 2B00            CMP              R3, #0
  450 000004F4 D009            BEQ              DRAW_STR_OVER
  451 000004F6         ;后面子程序需要r2传递参数，固在此入栈保存
  452 000004F6 B404            PUSH             {R2}
  453 000004F8 461A            MOV              R2, R3
  454 000004FA F7FF FFFE       BL               LCD_DRAW_CHAR
  455 000004FE BC04            POP              {R2}
  456 00000500         ;字符串指针向后移动一个字节
  457 00000500 F102 0201       ADD              R2, #1
  458 00000504         ;水平向右移动8个像素
  459 00000504 F100 0008       ADD              R0, #8
  460 00000508 E7F2            B                DRAW_NEXT_CHR
  461 0000050A E8BD 81FF 
                       DRAW_STR_OVER
                               POP              {R0-R8, PC}
  462 0000050E                 ENDP
  463 0000050E         
  464 0000050E 00 00           ALIGN
  465 00000510                 END
              6C0007FE 
              6C000800 
              00000000 
Command Line: --debug --xref --cpu=Cortex-M3 --apcs=interwork --depend=.\obj\tf
tlcd.d -o.\obj\tftlcd.o -I.\codes -IC:\Keil\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\In
clude -IC:\Keil\ARM\Inc\ST\STM32F10x --list=.\list\tftlcd.lst codes\tftlcd.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

DRAW_NEXT_BIT 000004B4

Symbol: DRAW_NEXT_BIT
   Definitions
      At line 421 in file codes\tftlcd.s
   Uses
      At line 429 in file codes\tftlcd.s
Comment: DRAW_NEXT_BIT used once
DRAW_NEXT_BYTE 000004A4

Symbol: DRAW_NEXT_BYTE
   Definitions
      At line 416 in file codes\tftlcd.s
   Uses
      At line 438 in file codes\tftlcd.s
Comment: DRAW_NEXT_BYTE used once
DRAW_NEXT_CHR 000004F0

Symbol: DRAW_NEXT_CHR
   Definitions
      At line 448 in file codes\tftlcd.s
   Uses
      At line 460 in file codes\tftlcd.s
Comment: DRAW_NEXT_CHR used once
DRAW_STR_OVER 0000050A

Symbol: DRAW_STR_OVER
   Definitions
      At line 461 in file codes\tftlcd.s
   Uses
      At line 450 in file codes\tftlcd.s
Comment: DRAW_STR_OVER used once
LCD_CLEAR 00000404

Symbol: LCD_CLEAR
   Definitions
      At line 343 in file codes\tftlcd.s
   Uses
      At line 300 in file codes\tftlcd.s
      At line 344 in file codes\tftlcd.s

LCD_CONFIG_PARM 00000136

Symbol: LCD_CONFIG_PARM
   Definitions
      At line 137 in file codes\tftlcd.s
   Uses
      None
Comment: LCD_CONFIG_PARM unused
LCD_DRAW_CHAR 0000048A

Symbol: LCD_DRAW_CHAR
   Definitions
      At line 402 in file codes\tftlcd.s
   Uses
      At line 404 in file codes\tftlcd.s
      At line 454 in file codes\tftlcd.s

LCD_DRAW_POINT 0000043E



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols


Symbol: LCD_DRAW_POINT
   Definitions
      At line 371 in file codes\tftlcd.s
   Uses
      At line 372 in file codes\tftlcd.s
      At line 422 in file codes\tftlcd.s

LCD_DRAW_STR 000004EC

Symbol: LCD_DRAW_STR
   Definitions
      At line 445 in file codes\tftlcd.s
   Uses
      At line 446 in file codes\tftlcd.s
Comment: LCD_DRAW_STR used once
LCD_FSMC_INIT 00000092

Symbol: LCD_FSMC_INIT
   Definitions
      At line 82 in file codes\tftlcd.s
   Uses
      None
Comment: LCD_FSMC_INIT unused
LCD_GET_ID 0000010C

Symbol: LCD_GET_ID
   Definitions
      At line 125 in file codes\tftlcd.s
   Uses
      At line 121 in file codes\tftlcd.s
      At line 123 in file codes\tftlcd.s

LCD_GET_ID_OVER 00000132

Symbol: LCD_GET_ID_OVER
   Definitions
      At line 135 in file codes\tftlcd.s
   Uses
      None
Comment: LCD_GET_ID_OVER unused
LCD_INIT 00000000

Symbol: LCD_INIT
   Definitions
      At line 20 in file codes\tftlcd.s
   Uses
      At line 21 in file codes\tftlcd.s
Comment: LCD_INIT used once
LCD_INIT_OVER 00000360

Symbol: LCD_INIT_OVER
   Definitions
      At line 301 in file codes\tftlcd.s
   Uses
      At line 124 in file codes\tftlcd.s
Comment: LCD_INIT_OVER used once
LCD_IO_INIT 00000004




ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

Symbol: LCD_IO_INIT
   Definitions
      At line 24 in file codes\tftlcd.s
   Uses
      None
Comment: LCD_IO_INIT unused
LCD_SET_WINDOW 000003AC

Symbol: LCD_SET_WINDOW
   Definitions
      At line 312 in file codes\tftlcd.s
   Uses
      At line 313 in file codes\tftlcd.s
      At line 354 in file codes\tftlcd.s

LCD_WRITE_DATA 00000432

Symbol: LCD_WRITE_DATA
   Definitions
      At line 360 in file codes\tftlcd.s
   Uses
      At line 362 in file codes\tftlcd.s
Comment: LCD_WRITE_DATA used once
TFTLCD_CODE 00000000

Symbol: TFTLCD_CODE
   Definitions
      At line 16 in file codes\tftlcd.s
   Uses
      None
Comment: TFTLCD_CODE unused
18 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

ADC1_2_IRQChannel 00000012

Symbol: ADC1_2_IRQChannel
   Definitions
      At line 253 in file codes\map.s
   Uses
      None
Comment: ADC1_2_IRQChannel unused
ADC3_IRQChannel 0000002F

Symbol: ADC3_IRQChannel
   Definitions
      At line 282 in file codes\map.s
   Uses
      None
Comment: ADC3_IRQChannel unused
BLACK 00000000

Symbol: BLACK
   Definitions
      At line 298 in file codes\map.s
   Uses
      At line 15 in file codes\tftlcd.s
Comment: BLACK used once
BLUE 0000F800

Symbol: BLUE
   Definitions
      At line 299 in file codes\map.s
   Uses
      None
Comment: BLUE unused
BRED 0000F81F

Symbol: BRED
   Definitions
      At line 300 in file codes\map.s
   Uses
      None
Comment: BRED unused
BROWN 0000BC40

Symbol: BROWN
   Definitions
      At line 307 in file codes\map.s
   Uses
      None
Comment: BROWN unused
BRRED 0000FC07

Symbol: BRRED
   Definitions
      At line 308 in file codes\map.s
   Uses
      None
Comment: BRRED unused
Bit0 00000001

Symbol: Bit0



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 188 in file codes\map.s
   Uses
      None
Comment: Bit0 unused
Bit1 00000002

Symbol: Bit1
   Definitions
      At line 189 in file codes\map.s
   Uses
      None
Comment: Bit1 unused
Bit10 00000400

Symbol: Bit10
   Definitions
      At line 198 in file codes\map.s
   Uses
      None
Comment: Bit10 unused
Bit11 00000800

Symbol: Bit11
   Definitions
      At line 199 in file codes\map.s
   Uses
      None
Comment: Bit11 unused
Bit12 00001000

Symbol: Bit12
   Definitions
      At line 200 in file codes\map.s
   Uses
      None
Comment: Bit12 unused
Bit13 00002000

Symbol: Bit13
   Definitions
      At line 201 in file codes\map.s
   Uses
      None
Comment: Bit13 unused
Bit14 00004000

Symbol: Bit14
   Definitions
      At line 202 in file codes\map.s
   Uses
      None
Comment: Bit14 unused
Bit15 00008000

Symbol: Bit15
   Definitions
      At line 203 in file codes\map.s
   Uses



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

      None
Comment: Bit15 unused
Bit16 00010000

Symbol: Bit16
   Definitions
      At line 204 in file codes\map.s
   Uses
      None
Comment: Bit16 unused
Bit17 00020000

Symbol: Bit17
   Definitions
      At line 205 in file codes\map.s
   Uses
      None
Comment: Bit17 unused
Bit18 00040000

Symbol: Bit18
   Definitions
      At line 206 in file codes\map.s
   Uses
      None
Comment: Bit18 unused
Bit19 00080000

Symbol: Bit19
   Definitions
      At line 207 in file codes\map.s
   Uses
      None
Comment: Bit19 unused
Bit2 00000004

Symbol: Bit2
   Definitions
      At line 190 in file codes\map.s
   Uses
      None
Comment: Bit2 unused
Bit20 00100000

Symbol: Bit20
   Definitions
      At line 208 in file codes\map.s
   Uses
      None
Comment: Bit20 unused
Bit21 00200000

Symbol: Bit21
   Definitions
      At line 209 in file codes\map.s
   Uses
      None
Comment: Bit21 unused
Bit22 00400000



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Absolute symbols


Symbol: Bit22
   Definitions
      At line 210 in file codes\map.s
   Uses
      None
Comment: Bit22 unused
Bit23 00800000

Symbol: Bit23
   Definitions
      At line 211 in file codes\map.s
   Uses
      None
Comment: Bit23 unused
Bit24 01000000

Symbol: Bit24
   Definitions
      At line 212 in file codes\map.s
   Uses
      None
Comment: Bit24 unused
Bit25 02000000

Symbol: Bit25
   Definitions
      At line 213 in file codes\map.s
   Uses
      None
Comment: Bit25 unused
Bit26 04000000

Symbol: Bit26
   Definitions
      At line 214 in file codes\map.s
   Uses
      None
Comment: Bit26 unused
Bit27 08000000

Symbol: Bit27
   Definitions
      At line 215 in file codes\map.s
   Uses
      None
Comment: Bit27 unused
Bit28 10000000

Symbol: Bit28
   Definitions
      At line 216 in file codes\map.s
   Uses
      None
Comment: Bit28 unused
Bit29 20000000

Symbol: Bit29
   Definitions



ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Absolute symbols

      At line 217 in file codes\map.s
   Uses
      None
Comment: Bit29 unused
Bit3 00000008

Symbol: Bit3
   Definitions
      At line 191 in file codes\map.s
   Uses
      None
Comment: Bit3 unused
Bit30 40000000

Symbol: Bit30
   Definitions
      At line 218 in file codes\map.s
   Uses
      None
Comment: Bit30 unused
Bit31 80000000

Symbol: Bit31
   Definitions
      At line 219 in file codes\map.s
   Uses
      None
Comment: Bit31 unused
Bit4 00000010

Symbol: Bit4
   Definitions
      At line 192 in file codes\map.s
   Uses
      None
Comment: Bit4 unused
Bit5 00000020

Symbol: Bit5
   Definitions
      At line 193 in file codes\map.s
   Uses
      None
Comment: Bit5 unused
Bit6 00000040

Symbol: Bit6
   Definitions
      At line 194 in file codes\map.s
   Uses
      None
Comment: Bit6 unused
Bit7 00000080

Symbol: Bit7
   Definitions
      At line 195 in file codes\map.s
   Uses
      None



ARM Macro Assembler    Page 6 Alphabetic symbol ordering
Absolute symbols

Comment: Bit7 unused
Bit8 00000100

Symbol: Bit8
   Definitions
      At line 196 in file codes\map.s
   Uses
      At line 27 in file codes\tftlcd.s
Comment: Bit8 used once
Bit9 00000200

Symbol: Bit9
   Definitions
      At line 197 in file codes\map.s
   Uses
      None
Comment: Bit9 unused
CAN_RX1_IRQChannel 00000015

Symbol: CAN_RX1_IRQChannel
   Definitions
      At line 256 in file codes\map.s
   Uses
      None
Comment: CAN_RX1_IRQChannel unused
CAN_SCE_IRQChannel 00000016

Symbol: CAN_SCE_IRQChannel
   Definitions
      At line 257 in file codes\map.s
   Uses
      None
Comment: CAN_SCE_IRQChannel unused
CYAN 00007FFF

Symbol: CYAN
   Definitions
      At line 305 in file codes\map.s
   Uses
      None
Comment: CYAN unused
DMA1_Channel1_IRQChannel 0000000B

Symbol: DMA1_Channel1_IRQChannel
   Definitions
      At line 246 in file codes\map.s
   Uses
      None
Comment: DMA1_Channel1_IRQChannel unused
DMA1_Channel2_IRQChannel 0000000C

Symbol: DMA1_Channel2_IRQChannel
   Definitions
      At line 247 in file codes\map.s
   Uses
      None
Comment: DMA1_Channel2_IRQChannel unused
DMA1_Channel3_IRQChannel 0000000D




ARM Macro Assembler    Page 7 Alphabetic symbol ordering
Absolute symbols

Symbol: DMA1_Channel3_IRQChannel
   Definitions
      At line 248 in file codes\map.s
   Uses
      None
Comment: DMA1_Channel3_IRQChannel unused
DMA1_Channel4_IRQChannel 0000000E

Symbol: DMA1_Channel4_IRQChannel
   Definitions
      At line 249 in file codes\map.s
   Uses
      None
Comment: DMA1_Channel4_IRQChannel unused
DMA1_Channel5_IRQChannel 0000000F

Symbol: DMA1_Channel5_IRQChannel
   Definitions
      At line 250 in file codes\map.s
   Uses
      None
Comment: DMA1_Channel5_IRQChannel unused
DMA1_Channel6_IRQChannel 00000010

Symbol: DMA1_Channel6_IRQChannel
   Definitions
      At line 251 in file codes\map.s
   Uses
      None
Comment: DMA1_Channel6_IRQChannel unused
DMA1_Channel7_IRQChannel 00000011

Symbol: DMA1_Channel7_IRQChannel
   Definitions
      At line 252 in file codes\map.s
   Uses
      None
Comment: DMA1_Channel7_IRQChannel unused
DMA2_Channel1_IRQChannel 00000038

Symbol: DMA2_Channel1_IRQChannel
   Definitions
      At line 291 in file codes\map.s
   Uses
      None
Comment: DMA2_Channel1_IRQChannel unused
DMA2_Channel2_IRQChannel 00000039

Symbol: DMA2_Channel2_IRQChannel
   Definitions
      At line 292 in file codes\map.s
   Uses
      None
Comment: DMA2_Channel2_IRQChannel unused
DMA2_Channel3_IRQChannel 0000003A

Symbol: DMA2_Channel3_IRQChannel
   Definitions
      At line 293 in file codes\map.s



ARM Macro Assembler    Page 8 Alphabetic symbol ordering
Absolute symbols

   Uses
      None
Comment: DMA2_Channel3_IRQChannel unused
DMA2_Channel4_5_IRQChannel 0000003B

Symbol: DMA2_Channel4_5_IRQChannel
   Definitions
      At line 294 in file codes\map.s
   Uses
      None
Comment: DMA2_Channel4_5_IRQChannel unused
EXTI0_IRQChannel 00000006

Symbol: EXTI0_IRQChannel
   Definitions
      At line 241 in file codes\map.s
   Uses
      None
Comment: EXTI0_IRQChannel unused
EXTI15_10_IRQChannel 00000028

Symbol: EXTI15_10_IRQChannel
   Definitions
      At line 275 in file codes\map.s
   Uses
      None
Comment: EXTI15_10_IRQChannel unused
EXTI1_IRQChannel 00000007

Symbol: EXTI1_IRQChannel
   Definitions
      At line 242 in file codes\map.s
   Uses
      None
Comment: EXTI1_IRQChannel unused
EXTI2_IRQChannel 00000008

Symbol: EXTI2_IRQChannel
   Definitions
      At line 243 in file codes\map.s
   Uses
      None
Comment: EXTI2_IRQChannel unused
EXTI3_IRQChannel 00000009

Symbol: EXTI3_IRQChannel
   Definitions
      At line 244 in file codes\map.s
   Uses
      None
Comment: EXTI3_IRQChannel unused
EXTI4_IRQChannel 0000000A

Symbol: EXTI4_IRQChannel
   Definitions
      At line 245 in file codes\map.s
   Uses
      None
Comment: EXTI4_IRQChannel unused



ARM Macro Assembler    Page 9 Alphabetic symbol ordering
Absolute symbols

EXTI9_5_IRQChannel 00000017

Symbol: EXTI9_5_IRQChannel
   Definitions
      At line 258 in file codes\map.s
   Uses
      None
Comment: EXTI9_5_IRQChannel unused
FLASH_ACR 40022000

Symbol: FLASH_ACR
   Definitions
      At line 160 in file codes\map.s
   Uses
      None
Comment: FLASH_ACR unused
FLASH_IRQChannel 00000004

Symbol: FLASH_IRQChannel
   Definitions
      At line 239 in file codes\map.s
   Uses
      None
Comment: FLASH_IRQChannel unused
FSMC_BANK1E_BWTR A0000104

Symbol: FSMC_BANK1E_BWTR
   Definitions
      At line 182 in file codes\map.s
   Uses
      At line 94 in file codes\tftlcd.s
Comment: FSMC_BANK1E_BWTR used once
FSMC_BANK1_BTCR A0000000

Symbol: FSMC_BANK1_BTCR
   Definitions
      At line 180 in file codes\map.s
   Uses
      At line 82 in file codes\tftlcd.s
Comment: FSMC_BANK1_BTCR used once
FSMC_Bank1E_R_BASE A0000104

Symbol: FSMC_Bank1E_R_BASE
   Definitions
      At line 181 in file codes\map.s
   Uses
      At line 182 in file codes\map.s
Comment: FSMC_Bank1E_R_BASE used once
FSMC_Bank1_R_BASE A0000000

Symbol: FSMC_Bank1_R_BASE
   Definitions
      At line 179 in file codes\map.s
   Uses
      At line 180 in file codes\map.s
Comment: FSMC_Bank1_R_BASE used once
FSMC_IRQChannel 00000030

Symbol: FSMC_IRQChannel



ARM Macro Assembler    Page 10 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 283 in file codes\map.s
   Uses
      None
Comment: FSMC_IRQChannel unused
GPIOA_BASE 40010800

Symbol: GPIOA_BASE
   Definitions
      At line 22 in file codes\map.s
   Uses
      At line 23 in file codes\map.s
      At line 24 in file codes\map.s
      At line 25 in file codes\map.s
      At line 26 in file codes\map.s
      At line 27 in file codes\map.s
      At line 28 in file codes\map.s
      At line 29 in file codes\map.s

GPIOA_BRR 40010814

Symbol: GPIOA_BRR
   Definitions
      At line 28 in file codes\map.s
   Uses
      None
Comment: GPIOA_BRR unused
GPIOA_BSRR 40010810

Symbol: GPIOA_BSRR
   Definitions
      At line 27 in file codes\map.s
   Uses
      None
Comment: GPIOA_BSRR unused
GPIOA_CRH 40010804

Symbol: GPIOA_CRH
   Definitions
      At line 24 in file codes\map.s
   Uses
      None
Comment: GPIOA_CRH unused
GPIOA_CRL 40010800

Symbol: GPIOA_CRL
   Definitions
      At line 23 in file codes\map.s
   Uses
      None
Comment: GPIOA_CRL unused
GPIOA_IDR 40010808

Symbol: GPIOA_IDR
   Definitions
      At line 25 in file codes\map.s
   Uses
      None
Comment: GPIOA_IDR unused



ARM Macro Assembler    Page 11 Alphabetic symbol ordering
Absolute symbols

GPIOA_LCKR 40010818

Symbol: GPIOA_LCKR
   Definitions
      At line 29 in file codes\map.s
   Uses
      None
Comment: GPIOA_LCKR unused
GPIOA_ODR 4001080C

Symbol: GPIOA_ODR
   Definitions
      At line 26 in file codes\map.s
   Uses
      None
Comment: GPIOA_ODR unused
GPIOB_BASE 40010C00

Symbol: GPIOB_BASE
   Definitions
      At line 35 in file codes\map.s
   Uses
      At line 36 in file codes\map.s
      At line 37 in file codes\map.s
      At line 38 in file codes\map.s
      At line 39 in file codes\map.s
      At line 40 in file codes\map.s
      At line 41 in file codes\map.s
      At line 42 in file codes\map.s

GPIOB_BRR 40010C14

Symbol: GPIOB_BRR
   Definitions
      At line 41 in file codes\map.s
   Uses
      None
Comment: GPIOB_BRR unused
GPIOB_BSRR 40010C10

Symbol: GPIOB_BSRR
   Definitions
      At line 40 in file codes\map.s
   Uses
      None
Comment: GPIOB_BSRR unused
GPIOB_CRH 40010C04

Symbol: GPIOB_CRH
   Definitions
      At line 37 in file codes\map.s
   Uses
      None
Comment: GPIOB_CRH unused
GPIOB_CRL 40010C00

Symbol: GPIOB_CRL
   Definitions
      At line 36 in file codes\map.s



ARM Macro Assembler    Page 12 Alphabetic symbol ordering
Absolute symbols

   Uses
      At line 35 in file codes\tftlcd.s
Comment: GPIOB_CRL used once
GPIOB_IDR 40010C08

Symbol: GPIOB_IDR
   Definitions
      At line 38 in file codes\map.s
   Uses
      None
Comment: GPIOB_IDR unused
GPIOB_LCKR 40010C18

Symbol: GPIOB_LCKR
   Definitions
      At line 42 in file codes\map.s
   Uses
      None
Comment: GPIOB_LCKR unused
GPIOB_ODR 40010C0C

Symbol: GPIOB_ODR
   Definitions
      At line 39 in file codes\map.s
   Uses
      At line 293 in file codes\tftlcd.s
Comment: GPIOB_ODR used once
GPIOC_BASE 40011000

Symbol: GPIOC_BASE
   Definitions
      At line 48 in file codes\map.s
   Uses
      At line 49 in file codes\map.s
      At line 50 in file codes\map.s
      At line 51 in file codes\map.s
      At line 52 in file codes\map.s
      At line 53 in file codes\map.s
      At line 54 in file codes\map.s
      At line 55 in file codes\map.s

GPIOC_BRR 40011014

Symbol: GPIOC_BRR
   Definitions
      At line 54 in file codes\map.s
   Uses
      None
Comment: GPIOC_BRR unused
GPIOC_BSRR 40011010

Symbol: GPIOC_BSRR
   Definitions
      At line 53 in file codes\map.s
   Uses
      None
Comment: GPIOC_BSRR unused
GPIOC_CRH 40011004




ARM Macro Assembler    Page 13 Alphabetic symbol ordering
Absolute symbols

Symbol: GPIOC_CRH
   Definitions
      At line 50 in file codes\map.s
   Uses
      None
Comment: GPIOC_CRH unused
GPIOC_CRL 40011000

Symbol: GPIOC_CRL
   Definitions
      At line 49 in file codes\map.s
   Uses
      None
Comment: GPIOC_CRL unused
GPIOC_IDR 40011008

Symbol: GPIOC_IDR
   Definitions
      At line 51 in file codes\map.s
   Uses
      None
Comment: GPIOC_IDR unused
GPIOC_LCKR 40011018

Symbol: GPIOC_LCKR
   Definitions
      At line 55 in file codes\map.s
   Uses
      None
Comment: GPIOC_LCKR unused
GPIOC_ODR 4001100C

Symbol: GPIOC_ODR
   Definitions
      At line 52 in file codes\map.s
   Uses
      None
Comment: GPIOC_ODR unused
GPIOD_BASE 40011400

Symbol: GPIOD_BASE
   Definitions
      At line 61 in file codes\map.s
   Uses
      At line 62 in file codes\map.s
      At line 63 in file codes\map.s
      At line 64 in file codes\map.s
      At line 65 in file codes\map.s
      At line 66 in file codes\map.s
      At line 67 in file codes\map.s
      At line 68 in file codes\map.s

GPIOD_BRR 40011414

Symbol: GPIOD_BRR
   Definitions
      At line 67 in file codes\map.s
   Uses
      None



ARM Macro Assembler    Page 14 Alphabetic symbol ordering
Absolute symbols

Comment: GPIOD_BRR unused
GPIOD_BSRR 40011410

Symbol: GPIOD_BSRR
   Definitions
      At line 66 in file codes\map.s
   Uses
      None
Comment: GPIOD_BSRR unused
GPIOD_CRH 40011404

Symbol: GPIOD_CRH
   Definitions
      At line 63 in file codes\map.s
   Uses
      At line 41 in file codes\tftlcd.s
Comment: GPIOD_CRH used once
GPIOD_CRL 40011400

Symbol: GPIOD_CRL
   Definitions
      At line 62 in file codes\map.s
   Uses
      At line 48 in file codes\tftlcd.s
Comment: GPIOD_CRL used once
GPIOD_IDR 40011408

Symbol: GPIOD_IDR
   Definitions
      At line 64 in file codes\map.s
   Uses
      None
Comment: GPIOD_IDR unused
GPIOD_LCKR 40011418

Symbol: GPIOD_LCKR
   Definitions
      At line 68 in file codes\map.s
   Uses
      None
Comment: GPIOD_LCKR unused
GPIOD_ODR 4001140C

Symbol: GPIOD_ODR
   Definitions
      At line 65 in file codes\map.s
   Uses
      None
Comment: GPIOD_ODR unused
GPIOE_BASE 40011800

Symbol: GPIOE_BASE
   Definitions
      At line 74 in file codes\map.s
   Uses
      At line 75 in file codes\map.s
      At line 76 in file codes\map.s
      At line 77 in file codes\map.s
      At line 78 in file codes\map.s



ARM Macro Assembler    Page 15 Alphabetic symbol ordering
Absolute symbols

      At line 79 in file codes\map.s
      At line 80 in file codes\map.s
      At line 81 in file codes\map.s

GPIOE_BRR 40011814

Symbol: GPIOE_BRR
   Definitions
      At line 80 in file codes\map.s
   Uses
      None
Comment: GPIOE_BRR unused
GPIOE_BSRR 40011810

Symbol: GPIOE_BSRR
   Definitions
      At line 79 in file codes\map.s
   Uses
      None
Comment: GPIOE_BSRR unused
GPIOE_CRH 40011804

Symbol: GPIOE_CRH
   Definitions
      At line 76 in file codes\map.s
   Uses
      At line 56 in file codes\tftlcd.s
Comment: GPIOE_CRH used once
GPIOE_CRL 40011800

Symbol: GPIOE_CRL
   Definitions
      At line 75 in file codes\map.s
   Uses
      At line 59 in file codes\tftlcd.s
Comment: GPIOE_CRL used once
GPIOE_IDR 40011808

Symbol: GPIOE_IDR
   Definitions
      At line 77 in file codes\map.s
   Uses
      None
Comment: GPIOE_IDR unused
GPIOE_LCKR 40011818

Symbol: GPIOE_LCKR
   Definitions
      At line 81 in file codes\map.s
   Uses
      None
Comment: GPIOE_LCKR unused
GPIOE_ODR 4001180C

Symbol: GPIOE_ODR
   Definitions
      At line 78 in file codes\map.s
   Uses
      None



ARM Macro Assembler    Page 16 Alphabetic symbol ordering
Absolute symbols

Comment: GPIOE_ODR unused
GPIOF_BASE 40011C00

Symbol: GPIOF_BASE
   Definitions
      At line 87 in file codes\map.s
   Uses
      At line 88 in file codes\map.s
      At line 89 in file codes\map.s
      At line 90 in file codes\map.s
      At line 91 in file codes\map.s
      At line 92 in file codes\map.s
      At line 93 in file codes\map.s
      At line 94 in file codes\map.s

GPIOF_BRR 40011C14

Symbol: GPIOF_BRR
   Definitions
      At line 93 in file codes\map.s
   Uses
      None
Comment: GPIOF_BRR unused
GPIOF_BSRR 40011C10

Symbol: GPIOF_BSRR
   Definitions
      At line 92 in file codes\map.s
   Uses
      None
Comment: GPIOF_BSRR unused
GPIOF_CRH 40011C04

Symbol: GPIOF_CRH
   Definitions
      At line 89 in file codes\map.s
   Uses
      None
Comment: GPIOF_CRH unused
GPIOF_CRL 40011C00

Symbol: GPIOF_CRL
   Definitions
      At line 88 in file codes\map.s
   Uses
      None
Comment: GPIOF_CRL unused
GPIOF_IDR 40011C08

Symbol: GPIOF_IDR
   Definitions
      At line 90 in file codes\map.s
   Uses
      None
Comment: GPIOF_IDR unused
GPIOF_LCKR 40011C18

Symbol: GPIOF_LCKR
   Definitions



ARM Macro Assembler    Page 17 Alphabetic symbol ordering
Absolute symbols

      At line 94 in file codes\map.s
   Uses
      None
Comment: GPIOF_LCKR unused
GPIOF_ODR 40011C0C

Symbol: GPIOF_ODR
   Definitions
      At line 91 in file codes\map.s
   Uses
      None
Comment: GPIOF_ODR unused
GPIOG_BASE 40012000

Symbol: GPIOG_BASE
   Definitions
      At line 100 in file codes\map.s
   Uses
      At line 101 in file codes\map.s
      At line 102 in file codes\map.s
      At line 103 in file codes\map.s
      At line 104 in file codes\map.s
      At line 105 in file codes\map.s
      At line 106 in file codes\map.s
      At line 107 in file codes\map.s

GPIOG_BRR 40012014

Symbol: GPIOG_BRR
   Definitions
      At line 106 in file codes\map.s
   Uses
      None
Comment: GPIOG_BRR unused
GPIOG_BSRR 40012010

Symbol: GPIOG_BSRR
   Definitions
      At line 105 in file codes\map.s
   Uses
      None
Comment: GPIOG_BSRR unused
GPIOG_CRH 40012004

Symbol: GPIOG_CRH
   Definitions
      At line 102 in file codes\map.s
   Uses
      At line 67 in file codes\tftlcd.s
Comment: GPIOG_CRH used once
GPIOG_CRL 40012000

Symbol: GPIOG_CRL
   Definitions
      At line 101 in file codes\map.s
   Uses
      At line 74 in file codes\tftlcd.s
Comment: GPIOG_CRL used once
GPIOG_IDR 40012008



ARM Macro Assembler    Page 18 Alphabetic symbol ordering
Absolute symbols


Symbol: GPIOG_IDR
   Definitions
      At line 103 in file codes\map.s
   Uses
      None
Comment: GPIOG_IDR unused
GPIOG_LCKR 40012018

Symbol: GPIOG_LCKR
   Definitions
      At line 107 in file codes\map.s
   Uses
      None
Comment: GPIOG_LCKR unused
GPIOG_ODR 4001200C

Symbol: GPIOG_ODR
   Definitions
      At line 104 in file codes\map.s
   Uses
      None
Comment: GPIOG_ODR unused
GRAY 00008430

Symbol: GRAY
   Definitions
      At line 309 in file codes\map.s
   Uses
      None
Comment: GRAY unused
GRED 0000FFE0

Symbol: GRED
   Definitions
      At line 301 in file codes\map.s
   Uses
      None
Comment: GRED unused
GREEN 000007E0

Symbol: GREEN
   Definitions
      At line 304 in file codes\map.s
   Uses
      None
Comment: GREEN unused
I2C1_ER_IRQChannel 00000020

Symbol: I2C1_ER_IRQChannel
   Definitions
      At line 267 in file codes\map.s
   Uses
      None
Comment: I2C1_ER_IRQChannel unused
I2C1_EV_IRQChannel 0000001F

Symbol: I2C1_EV_IRQChannel
   Definitions



ARM Macro Assembler    Page 19 Alphabetic symbol ordering
Absolute symbols

      At line 266 in file codes\map.s
   Uses
      None
Comment: I2C1_EV_IRQChannel unused
I2C2_ER_IRQChannel 00000022

Symbol: I2C2_ER_IRQChannel
   Definitions
      At line 269 in file codes\map.s
   Uses
      None
Comment: I2C2_ER_IRQChannel unused
I2C2_EV_IRQChannel 00000021

Symbol: I2C2_EV_IRQChannel
   Definitions
      At line 268 in file codes\map.s
   Uses
      None
Comment: I2C2_EV_IRQChannel unused
KEY_CENTER 0000000C

Symbol: KEY_CENTER
   Definitions
      At line 229 in file codes\map.s
   Uses
      None
Comment: KEY_CENTER unused
KEY_DOWN 00000002

Symbol: KEY_DOWN
   Definitions
      At line 226 in file codes\map.s
   Uses
      None
Comment: KEY_DOWN unused
KEY_LEFT 00000004

Symbol: KEY_LEFT
   Definitions
      At line 227 in file codes\map.s
   Uses
      None
Comment: KEY_LEFT unused
KEY_RIGHT 00000008

Symbol: KEY_RIGHT
   Definitions
      At line 228 in file codes\map.s
   Uses
      None
Comment: KEY_RIGHT unused
KEY_UP 00000001

Symbol: KEY_UP
   Definitions
      At line 225 in file codes\map.s
   Uses
      None



ARM Macro Assembler    Page 20 Alphabetic symbol ordering
Absolute symbols

Comment: KEY_UP unused
LCD_ADDR_BASE 6C0007FE

Symbol: LCD_ADDR_BASE
   Definitions
      At line 7 in file codes\tftlcd.s
   Uses
      At line 8 in file codes\tftlcd.s
      At line 9 in file codes\tftlcd.s

LCD_CMD_ADDR 6C0007FE

Symbol: LCD_CMD_ADDR
   Definitions
      At line 8 in file codes\tftlcd.s
   Uses
      At line 102 in file codes\tftlcd.s
      At line 315 in file codes\tftlcd.s
      At line 346 in file codes\tftlcd.s
      At line 374 in file codes\tftlcd.s

LCD_CMD_WR 0000002C

Symbol: LCD_CMD_WR
   Definitions
      At line 12 in file codes\tftlcd.s
   Uses
      At line 334 in file codes\tftlcd.s
      At line 392 in file codes\tftlcd.s

LCD_CMD_X 0000002A

Symbol: LCD_CMD_X
   Definitions
      At line 13 in file codes\tftlcd.s
   Uses
      At line 317 in file codes\tftlcd.s
      At line 377 in file codes\tftlcd.s

LCD_CMD_Y 0000002B

Symbol: LCD_CMD_Y
   Definitions
      At line 14 in file codes\tftlcd.s
   Uses
      At line 325 in file codes\tftlcd.s
      At line 385 in file codes\tftlcd.s

LCD_DATA_ADDR 6C000800

Symbol: LCD_DATA_ADDR
   Definitions
      At line 9 in file codes\tftlcd.s
   Uses
      At line 103 in file codes\tftlcd.s
      At line 316 in file codes\tftlcd.s
      At line 347 in file codes\tftlcd.s
      At line 375 in file codes\tftlcd.s




ARM Macro Assembler    Page 21 Alphabetic symbol ordering
Absolute symbols

LCD_HEIGHT 00000140

Symbol: LCD_HEIGHT
   Definitions
      At line 11 in file codes\tftlcd.s
   Uses
      None
Comment: LCD_HEIGHT unused
LCD_PEN_COLOR 00000000

Symbol: LCD_PEN_COLOR
   Definitions
      At line 15 in file codes\tftlcd.s
   Uses
      At line 420 in file codes\tftlcd.s
Comment: LCD_PEN_COLOR used once
LCD_WIDTH 000001E0

Symbol: LCD_WIDTH
   Definitions
      At line 10 in file codes\tftlcd.s
   Uses
      None
Comment: LCD_WIDTH unused
MAGENTA 0000F81F

Symbol: MAGENTA
   Definitions
      At line 303 in file codes\map.s
   Uses
      None
Comment: MAGENTA unused
NVIC_BASE E000E100

Symbol: NVIC_BASE
   Definitions
      At line 113 in file codes\map.s
   Uses
      At line 114 in file codes\map.s
      At line 115 in file codes\map.s
      At line 116 in file codes\map.s
      At line 117 in file codes\map.s
      At line 118 in file codes\map.s
      At line 119 in file codes\map.s
      At line 120 in file codes\map.s
      At line 121 in file codes\map.s
      At line 122 in file codes\map.s
      At line 123 in file codes\map.s
      At line 124 in file codes\map.s

NVIC_IABR1 E000E300

Symbol: NVIC_IABR1
   Definitions
      At line 122 in file codes\map.s
   Uses
      None
Comment: NVIC_IABR1 unused
NVIC_IABR2 E000E304



ARM Macro Assembler    Page 22 Alphabetic symbol ordering
Absolute symbols


Symbol: NVIC_IABR2
   Definitions
      At line 123 in file codes\map.s
   Uses
      None
Comment: NVIC_IABR2 unused
NVIC_ICER1 E000E180

Symbol: NVIC_ICER1
   Definitions
      At line 116 in file codes\map.s
   Uses
      None
Comment: NVIC_ICER1 unused
NVIC_ICER2 E000E184

Symbol: NVIC_ICER2
   Definitions
      At line 117 in file codes\map.s
   Uses
      None
Comment: NVIC_ICER2 unused
NVIC_ICPR1 E000E280

Symbol: NVIC_ICPR1
   Definitions
      At line 120 in file codes\map.s
   Uses
      None
Comment: NVIC_ICPR1 unused
NVIC_ICPR2 E000E284

Symbol: NVIC_ICPR2
   Definitions
      At line 121 in file codes\map.s
   Uses
      None
Comment: NVIC_ICPR2 unused
NVIC_IPR_BASE E000E400

Symbol: NVIC_IPR_BASE
   Definitions
      At line 124 in file codes\map.s
   Uses
      None
Comment: NVIC_IPR_BASE unused
NVIC_ISER1 E000E100

Symbol: NVIC_ISER1
   Definitions
      At line 114 in file codes\map.s
   Uses
      None
Comment: NVIC_ISER1 unused
NVIC_ISER2 E000E104

Symbol: NVIC_ISER2
   Definitions



ARM Macro Assembler    Page 23 Alphabetic symbol ordering
Absolute symbols

      At line 115 in file codes\map.s
   Uses
      None
Comment: NVIC_ISER2 unused
NVIC_ISPR1 E000E200

Symbol: NVIC_ISPR1
   Definitions
      At line 118 in file codes\map.s
   Uses
      None
Comment: NVIC_ISPR1 unused
NVIC_ISPR2 E000E204

Symbol: NVIC_ISPR2
   Definitions
      At line 119 in file codes\map.s
   Uses
      None
Comment: NVIC_ISPR2 unused
PVD_IRQChannel 00000001

Symbol: PVD_IRQChannel
   Definitions
      At line 236 in file codes\map.s
   Uses
      None
Comment: PVD_IRQChannel unused
RCC_AHBENR 40021014

Symbol: RCC_AHBENR
   Definitions
      At line 12 in file codes\map.s
   Uses
      At line 24 in file codes\tftlcd.s
Comment: RCC_AHBENR used once
RCC_APB1ENR 4002101C

Symbol: RCC_APB1ENR
   Definitions
      At line 14 in file codes\map.s
   Uses
      None
Comment: RCC_APB1ENR unused
RCC_APB1RSTR 40021010

Symbol: RCC_APB1RSTR
   Definitions
      At line 11 in file codes\map.s
   Uses
      None
Comment: RCC_APB1RSTR unused
RCC_APB2ENR 40021018

Symbol: RCC_APB2ENR
   Definitions
      At line 13 in file codes\map.s
   Uses
      At line 30 in file codes\tftlcd.s



ARM Macro Assembler    Page 24 Alphabetic symbol ordering
Absolute symbols

Comment: RCC_APB2ENR used once
RCC_APB2RSTR 4002100C

Symbol: RCC_APB2RSTR
   Definitions
      At line 10 in file codes\map.s
   Uses
      None
Comment: RCC_APB2RSTR unused
RCC_BASE 40021000

Symbol: RCC_BASE
   Definitions
      At line 6 in file codes\map.s
   Uses
      At line 7 in file codes\map.s
      At line 8 in file codes\map.s
      At line 9 in file codes\map.s
      At line 10 in file codes\map.s
      At line 11 in file codes\map.s
      At line 12 in file codes\map.s
      At line 13 in file codes\map.s
      At line 14 in file codes\map.s
      At line 15 in file codes\map.s
      At line 16 in file codes\map.s

RCC_BDCR 40021020

Symbol: RCC_BDCR
   Definitions
      At line 15 in file codes\map.s
   Uses
      None
Comment: RCC_BDCR unused
RCC_CFGR 40021004

Symbol: RCC_CFGR
   Definitions
      At line 8 in file codes\map.s
   Uses
      None
Comment: RCC_CFGR unused
RCC_CIR 40021008

Symbol: RCC_CIR
   Definitions
      At line 9 in file codes\map.s
   Uses
      None
Comment: RCC_CIR unused
RCC_CR 40021000

Symbol: RCC_CR
   Definitions
      At line 7 in file codes\map.s
   Uses
      None
Comment: RCC_CR unused
RCC_CSR 40021024



ARM Macro Assembler    Page 25 Alphabetic symbol ordering
Absolute symbols


Symbol: RCC_CSR
   Definitions
      At line 16 in file codes\map.s
   Uses
      None
Comment: RCC_CSR unused
RCC_IRQChannel 00000005

Symbol: RCC_IRQChannel
   Definitions
      At line 240 in file codes\map.s
   Uses
      None
Comment: RCC_IRQChannel unused
RED 0000001F

Symbol: RED
   Definitions
      At line 302 in file codes\map.s
   Uses
      At line 299 in file codes\tftlcd.s
Comment: RED used once
RTCAlarm_IRQChannel 00000029

Symbol: RTCAlarm_IRQChannel
   Definitions
      At line 276 in file codes\map.s
   Uses
      None
Comment: RTCAlarm_IRQChannel unused
RTC_IRQChannel 00000003

Symbol: RTC_IRQChannel
   Definitions
      At line 238 in file codes\map.s
   Uses
      None
Comment: RTC_IRQChannel unused
SCB_AFSR E000ED3C

Symbol: SCB_AFSR
   Definitions
      At line 147 in file codes\map.s
   Uses
      None
Comment: SCB_AFSR unused
SCB_AIRCR E000ED0C

Symbol: SCB_AIRCR
   Definitions
      At line 135 in file codes\map.s
   Uses
      None
Comment: SCB_AIRCR unused
SCB_BASE E000ED00

Symbol: SCB_BASE
   Definitions



ARM Macro Assembler    Page 26 Alphabetic symbol ordering
Absolute symbols

      At line 131 in file codes\map.s
   Uses
      At line 132 in file codes\map.s
      At line 133 in file codes\map.s
      At line 134 in file codes\map.s
      At line 135 in file codes\map.s
      At line 136 in file codes\map.s
      At line 137 in file codes\map.s
      At line 138 in file codes\map.s
      At line 139 in file codes\map.s
      At line 140 in file codes\map.s
      At line 141 in file codes\map.s
      At line 142 in file codes\map.s
      At line 143 in file codes\map.s
      At line 144 in file codes\map.s
      At line 145 in file codes\map.s
      At line 146 in file codes\map.s
      At line 147 in file codes\map.s

SCB_BFAR E000ED38

Symbol: SCB_BFAR
   Definitions
      At line 146 in file codes\map.s
   Uses
      None
Comment: SCB_BFAR unused
SCB_CCR E000ED14

Symbol: SCB_CCR
   Definitions
      At line 137 in file codes\map.s
   Uses
      None
Comment: SCB_CCR unused
SCB_CFSR E000ED28

Symbol: SCB_CFSR
   Definitions
      At line 142 in file codes\map.s
   Uses
      None
Comment: SCB_CFSR unused
SCB_CPUID E000ED00

Symbol: SCB_CPUID
   Definitions
      At line 132 in file codes\map.s
   Uses
      None
Comment: SCB_CPUID unused
SCB_DFSR E000ED30

Symbol: SCB_DFSR
   Definitions
      At line 144 in file codes\map.s
   Uses
      None
Comment: SCB_DFSR unused



ARM Macro Assembler    Page 27 Alphabetic symbol ordering
Absolute symbols

SCB_HFSR E000ED2C

Symbol: SCB_HFSR
   Definitions
      At line 143 in file codes\map.s
   Uses
      None
Comment: SCB_HFSR unused
SCB_ICSR E000ED04

Symbol: SCB_ICSR
   Definitions
      At line 133 in file codes\map.s
   Uses
      None
Comment: SCB_ICSR unused
SCB_MMFAR E000ED34

Symbol: SCB_MMFAR
   Definitions
      At line 145 in file codes\map.s
   Uses
      None
Comment: SCB_MMFAR unused
SCB_SCR E000ED10

Symbol: SCB_SCR
   Definitions
      At line 136 in file codes\map.s
   Uses
      None
Comment: SCB_SCR unused
SCB_SHCSR E000ED24

Symbol: SCB_SHCSR
   Definitions
      At line 141 in file codes\map.s
   Uses
      None
Comment: SCB_SHCSR unused
SCB_SHPR1 E000ED18

Symbol: SCB_SHPR1
   Definitions
      At line 138 in file codes\map.s
   Uses
      None
Comment: SCB_SHPR1 unused
SCB_SHPR2 E000ED1C

Symbol: SCB_SHPR2
   Definitions
      At line 139 in file codes\map.s
   Uses
      None
Comment: SCB_SHPR2 unused
SCB_SHPR3 E000ED20

Symbol: SCB_SHPR3



ARM Macro Assembler    Page 28 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 140 in file codes\map.s
   Uses
      None
Comment: SCB_SHPR3 unused
SCB_VTOR E000ED08

Symbol: SCB_VTOR
   Definitions
      At line 134 in file codes\map.s
   Uses
      None
Comment: SCB_VTOR unused
SDIO_IRQChannel 00000031

Symbol: SDIO_IRQChannel
   Definitions
      At line 284 in file codes\map.s
   Uses
      None
Comment: SDIO_IRQChannel unused
SPI1_IRQChannel 00000023

Symbol: SPI1_IRQChannel
   Definitions
      At line 270 in file codes\map.s
   Uses
      None
Comment: SPI1_IRQChannel unused
SPI2_IRQChannel 00000024

Symbol: SPI2_IRQChannel
   Definitions
      At line 271 in file codes\map.s
   Uses
      None
Comment: SPI2_IRQChannel unused
SPI3_IRQChannel 00000033

Symbol: SPI3_IRQChannel
   Definitions
      At line 286 in file codes\map.s
   Uses
      None
Comment: SPI3_IRQChannel unused
SYSTICK_CALIB E000E01C

Symbol: SYSTICK_CALIB
   Definitions
      At line 158 in file codes\map.s
   Uses
      None
Comment: SYSTICK_CALIB unused
SYSTICK_CTRL E000E010

Symbol: SYSTICK_CTRL
   Definitions
      At line 155 in file codes\map.s
   Uses



ARM Macro Assembler    Page 29 Alphabetic symbol ordering
Absolute symbols

      None
Comment: SYSTICK_CTRL unused
SYSTICK_LOAD E000E014

Symbol: SYSTICK_LOAD
   Definitions
      At line 156 in file codes\map.s
   Uses
      None
Comment: SYSTICK_LOAD unused
SYSTICK_VAL E000E018

Symbol: SYSTICK_VAL
   Definitions
      At line 157 in file codes\map.s
   Uses
      None
Comment: SYSTICK_VAL unused
SysTick_BASE E000E010

Symbol: SysTick_BASE
   Definitions
      At line 154 in file codes\map.s
   Uses
      At line 155 in file codes\map.s
      At line 156 in file codes\map.s
      At line 157 in file codes\map.s
      At line 158 in file codes\map.s

TAMPER_IRQChannel 00000002

Symbol: TAMPER_IRQChannel
   Definitions
      At line 237 in file codes\map.s
   Uses
      None
Comment: TAMPER_IRQChannel unused
TIM1_BRK_IRQChannel 00000018

Symbol: TIM1_BRK_IRQChannel
   Definitions
      At line 259 in file codes\map.s
   Uses
      None
Comment: TIM1_BRK_IRQChannel unused
TIM1_CC_IRQChannel 0000001B

Symbol: TIM1_CC_IRQChannel
   Definitions
      At line 262 in file codes\map.s
   Uses
      None
Comment: TIM1_CC_IRQChannel unused
TIM1_TRG_COM_IRQChannel 0000001A

Symbol: TIM1_TRG_COM_IRQChannel
   Definitions
      At line 261 in file codes\map.s
   Uses



ARM Macro Assembler    Page 30 Alphabetic symbol ordering
Absolute symbols

      None
Comment: TIM1_TRG_COM_IRQChannel unused
TIM1_UP_IRQChannel 00000019

Symbol: TIM1_UP_IRQChannel
   Definitions
      At line 260 in file codes\map.s
   Uses
      None
Comment: TIM1_UP_IRQChannel unused
TIM2_IRQChannel 0000001C

Symbol: TIM2_IRQChannel
   Definitions
      At line 263 in file codes\map.s
   Uses
      None
Comment: TIM2_IRQChannel unused
TIM3_IRQChannel 0000001D

Symbol: TIM3_IRQChannel
   Definitions
      At line 264 in file codes\map.s
   Uses
      None
Comment: TIM3_IRQChannel unused
TIM4_IRQChannel 0000001E

Symbol: TIM4_IRQChannel
   Definitions
      At line 265 in file codes\map.s
   Uses
      None
Comment: TIM4_IRQChannel unused
TIM5_IRQChannel 00000032

Symbol: TIM5_IRQChannel
   Definitions
      At line 285 in file codes\map.s
   Uses
      None
Comment: TIM5_IRQChannel unused
TIM6_IRQChannel 00000036

Symbol: TIM6_IRQChannel
   Definitions
      At line 289 in file codes\map.s
   Uses
      None
Comment: TIM6_IRQChannel unused
TIM7_IRQChannel 00000037

Symbol: TIM7_IRQChannel
   Definitions
      At line 290 in file codes\map.s
   Uses
      None
Comment: TIM7_IRQChannel unused
TIM8_BRK_IRQChannel 0000002B



ARM Macro Assembler    Page 31 Alphabetic symbol ordering
Absolute symbols


Symbol: TIM8_BRK_IRQChannel
   Definitions
      At line 278 in file codes\map.s
   Uses
      None
Comment: TIM8_BRK_IRQChannel unused
TIM8_CC_IRQChannel 0000002E

Symbol: TIM8_CC_IRQChannel
   Definitions
      At line 281 in file codes\map.s
   Uses
      None
Comment: TIM8_CC_IRQChannel unused
TIM8_TRG_COM_IRQChannel 0000002D

Symbol: TIM8_TRG_COM_IRQChannel
   Definitions
      At line 280 in file codes\map.s
   Uses
      None
Comment: TIM8_TRG_COM_IRQChannel unused
TIM8_UP_IRQChannel 0000002C

Symbol: TIM8_UP_IRQChannel
   Definitions
      At line 279 in file codes\map.s
   Uses
      None
Comment: TIM8_UP_IRQChannel unused
UART4_IRQChannel 00000034

Symbol: UART4_IRQChannel
   Definitions
      At line 287 in file codes\map.s
   Uses
      None
Comment: UART4_IRQChannel unused
UART5_IRQChannel 00000035

Symbol: UART5_IRQChannel
   Definitions
      At line 288 in file codes\map.s
   Uses
      None
Comment: UART5_IRQChannel unused
USART1_BASE 40013800

Symbol: USART1_BASE
   Definitions
      At line 166 in file codes\map.s
   Uses
      At line 167 in file codes\map.s
      At line 168 in file codes\map.s
      At line 169 in file codes\map.s
      At line 170 in file codes\map.s
      At line 171 in file codes\map.s
      At line 172 in file codes\map.s



ARM Macro Assembler    Page 32 Alphabetic symbol ordering
Absolute symbols

      At line 173 in file codes\map.s

USART1_BRR 40013808

Symbol: USART1_BRR
   Definitions
      At line 169 in file codes\map.s
   Uses
      None
Comment: USART1_BRR unused
USART1_CR1 4001380C

Symbol: USART1_CR1
   Definitions
      At line 170 in file codes\map.s
   Uses
      None
Comment: USART1_CR1 unused
USART1_CR2 40013810

Symbol: USART1_CR2
   Definitions
      At line 171 in file codes\map.s
   Uses
      None
Comment: USART1_CR2 unused
USART1_CR3 40013814

Symbol: USART1_CR3
   Definitions
      At line 172 in file codes\map.s
   Uses
      None
Comment: USART1_CR3 unused
USART1_DR 40013804

Symbol: USART1_DR
   Definitions
      At line 168 in file codes\map.s
   Uses
      None
Comment: USART1_DR unused
USART1_GTPR 40013818

Symbol: USART1_GTPR
   Definitions
      At line 173 in file codes\map.s
   Uses
      None
Comment: USART1_GTPR unused
USART1_IRQChannel 00000025

Symbol: USART1_IRQChannel
   Definitions
      At line 272 in file codes\map.s
   Uses
      None
Comment: USART1_IRQChannel unused
USART1_SR 40013800



ARM Macro Assembler    Page 33 Alphabetic symbol ordering
Absolute symbols


Symbol: USART1_SR
   Definitions
      At line 167 in file codes\map.s
   Uses
      None
Comment: USART1_SR unused
USART2_IRQChannel 00000026

Symbol: USART2_IRQChannel
   Definitions
      At line 273 in file codes\map.s
   Uses
      None
Comment: USART2_IRQChannel unused
USART3_IRQChannel 00000027

Symbol: USART3_IRQChannel
   Definitions
      At line 274 in file codes\map.s
   Uses
      None
Comment: USART3_IRQChannel unused
USBWakeUp_IRQChannel 0000002A

Symbol: USBWakeUp_IRQChannel
   Definitions
      At line 277 in file codes\map.s
   Uses
      None
Comment: USBWakeUp_IRQChannel unused
USB_HP_CAN_TX_IRQChannel 00000013

Symbol: USB_HP_CAN_TX_IRQChannel
   Definitions
      At line 254 in file codes\map.s
   Uses
      None
Comment: USB_HP_CAN_TX_IRQChannel unused
USB_LP_CAN_RX0_IRQChannel 00000014

Symbol: USB_LP_CAN_RX0_IRQChannel
   Definitions
      At line 255 in file codes\map.s
   Uses
      None
Comment: USB_LP_CAN_RX0_IRQChannel unused
WHITE 0000FFFF

Symbol: WHITE
   Definitions
      At line 297 in file codes\map.s
   Uses
      None
Comment: WHITE unused
WWDG_IRQChannel 00000000

Symbol: WWDG_IRQChannel
   Definitions



ARM Macro Assembler    Page 34 Alphabetic symbol ordering
Absolute symbols

      At line 235 in file codes\map.s
   Uses
      None
Comment: WWDG_IRQChannel unused
YELLOW 000007FF

Symbol: YELLOW
   Definitions
      At line 306 in file codes\map.s
   Uses
      None
Comment: YELLOW unused
233 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

F_ASCII_16 00000000

Symbol: F_ASCII_16
   Definitions
      At line 403 in file codes\tftlcd.s
   Uses
      At line 410 in file codes\tftlcd.s
Comment: F_ASCII_16 used once
SYS_DELAY_MS 00000000

Symbol: SYS_DELAY_MS
   Definitions
      At line 17 in file codes\tftlcd.s
   Uses
      At line 100 in file codes\tftlcd.s
      At line 109 in file codes\tftlcd.s
      At line 257 in file codes\tftlcd.s
      At line 291 in file codes\tftlcd.s

USART1_PUTC 00000000

Symbol: USART1_PUTC
   Definitions
      At line 18 in file codes\tftlcd.s
   Uses
      At line 133 in file codes\tftlcd.s
      At line 135 in file codes\tftlcd.s

3 symbols
590 symbols in table
